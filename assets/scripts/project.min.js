"use strict";!function($,window,document,undefined){$.fn.doubleTapToGo=function(action){return!!("ontouchstart"in window||navigator.msMaxTouchPoints||navigator.userAgent.toLowerCase().match(/windows phone os 7/i))&&(this.each("unbind"===action?function(){$(this).off(),$(document).off("click touchstart MSPointerDown",handleTouch)}:function(){function handleTouch(e){for(var resetItem=!0,parents=$(e.target).parents(),i=0;i<parents.length;i++)parents[i]==curItem[0]&&(resetItem=!1);resetItem&&(curItem=!1)}var curItem=!1;$(this).on("click",function(e){var item=$(this);item[0]!=curItem[0]&&(e.preventDefault(),curItem=item)}),$(document).on("click touchstart MSPointerDown",handleTouch)}),this)}}(jQuery,window,document),function($,exports){function Collapse(el,options){options=options||{};var _this=this,query=options.query||"> :even";$.extend(_this,{$el:el,options:options,sections:[],isAccordion:options.accordion||!1,db:!!options.persist&&jQueryCollapseStorage(el.get(0).id)}),_this.states=_this.db?_this.db.read():[],_this.$el.find(query).each(function(){new jQueryCollapseSection($(this),_this)}),function(scope){_this.$el.on("click","[data-collapse-summary] "+(scope.options.clickQuery||""),$.proxy(_this.handleClick,scope)),_this.$el.bind("toggle close open",$.proxy(_this.handleEvent,scope))}(_this)}function Section($el,parent){parent.options.clickQuery||$el.wrapInner('<a href="#"/>'),$.extend(this,{isOpen:!1,$summary:$el.attr("data-collapse-summary",""),$details:$el.next(),options:parent.options,parent:parent}),parent.sections.push(this);var state=parent.states[this._index()];0===state?this.close(!0):this.$summary.is(".open")||1===state?this.open(!0):this.close(!0)}Collapse.prototype={handleClick:function(e,state){e.preventDefault(),state=state||"toggle";for(var sections=this.sections,l=sections.length;l--;)if($.contains(sections[l].$summary[0],e.target)){sections[l][state]();break}},handleEvent:function(e){return e.target==this.$el.get(0)?this[e.type]():void this.handleClick(e,e.type)},open:function(eq){this._change("open",eq)},close:function(eq){this._change("close",eq)},toggle:function(eq){this._change("toggle",eq)},_change:function(action,eq){return isFinite(eq)?this.sections[eq][action]():void $.each(this.sections,function(i,section){section[action]()})}},Section.prototype={toggle:function(){this.isOpen?this.close():this.open()},close:function(bypass){this._changeState("close",bypass)},open:function(bypass){var _this=this;_this.options.accordion&&!bypass&&$.each(_this.parent.sections,function(i,section){section.close()}),_this._changeState("open",bypass)},_index:function(){return $.inArray(this,this.parent.sections)},_changeState:function(state,bypass){var _this=this;_this.isOpen="open"==state,$.isFunction(_this.options[state])&&!bypass?_this.options[state].apply(_this.$details):_this.$details[_this.isOpen?"show":"hide"](),_this.$summary.toggleClass("open","close"!==state),_this.$details.attr("aria-hidden","close"===state),_this.$summary.attr("aria-expanded","open"===state),_this.$summary.trigger("open"===state?"opened":"closed",_this),_this.parent.db&&_this.parent.db.write(_this._index(),_this.isOpen)}},$.fn.extend({collapse:function(options,scan){var nodes=scan?$("body").find("[data-collapse]"):$(this);return nodes.each(function(){var settings=scan?{}:options,values=$(this).attr("data-collapse")||"";$.each(values.split(" "),function(i,v){v&&(settings[v]=!0)}),new Collapse($(this),settings)})}}),exports.jQueryCollapse=Collapse,exports.jQueryCollapseSection=Section,$(function(){$.fn.collapse(!1,!0)})}(window.jQuery,window),function(c,k,l,m){function n(){var b,a=c(this);if(b=a.is(":visible")){b=a[0].getBoundingClientRect();var d=-a.data("jquery-lazyload-any").threshold,e=p-d,f=q-d;b=(b.top>=d&&b.top<=e||b.bottom>=d&&b.bottom<=e)&&(b.left>=d&&b.left<=f||b.right>=d&&b.right<=f)}b&&a.trigger("appear")}function r(){p=k.innerHeight||l.documentElement.clientHeight,q=k.innerWidth||l.documentElement.clientWidth,g()}function g(){h=h.filter(":jquery-lazyload-any-appear"),1==this.nodeType?c(this).find(":jquery-lazyload-any-appear").each(n):h.each(n)}function w(){var a=c(this),b=a.data("jquery-lazyload-any"),d=a.contents().filter(function(){return 8===this.nodeType}).get(0),d=c(d&&c.trim(d.data));a.replaceWith(d),c.isFunction(b.load)&&b.load.call(d,d)}function t(){var b,a=c(this);a.data("jquery-lazyload-any-scroller")?b=!1:(b=a.css("overflow"),"scroll"!=b&&"auto"!=b?b=!1:(a.data("jquery-lazyload-any-scroller",1),a.bind("scroll",g),b=!0));var d;a.data("jquery-lazyload-any-display")?d=void 0:"none"!=a.css("display")?d=void 0:(a.data("jquery-lazyload-any-display",1),a._bindShow(g),d=!0),b|d&&!a.data("jquery-lazyload-any-watch")&&(a.data("jquery-lazyload-any-watch",1),a.bind("appear",u))}function u(){var a=c(this);0===a.find(":jquery-lazyload-any-appear").length&&(a.removeData("jquery-lazyload-any-scroller").removeData("jquery-lazyload-any-display").removeData("jquery-lazyload-any-watch"),a.unbind("scroll",g).unbind("appear",u)._unbindShow(g))}var p,q,v=!1,h=c();c.expr[":"]["jquery-lazyload-any-appear"]=function(a){return c(a).data("jquery-lazyload-any-appear")!==m},c.fn.lazyload=function(a){var b={threshold:0,trigger:"appear"};return c.extend(b,a),a=b.trigger.split(" "),this.data("jquery-lazyload-any-appear",-1!=c.inArray("appear",a)).data("jquery-lazyload-any",b),this.bind(b.trigger,w),this.each(n),this.parents().each(t),this.each(function(){h=h.add(this)}),v||(v=!0,r(),c(l).ready(function(){c(k).bind("resize",r).bind("scroll",g)})),this},c.lazyload={check:g,refresh:function(a){(a===m?h:c(a)).each(function(){var a=c(this);a.is(":jquery-lazyload-any-appear")&&a.parents().each(t)})}},function(){function a(){var a=c(this),b="none"!=a.css("display");a.data("jquery-lazyload-any-show")!=b&&(a.data("jquery-lazyload-any-show",b),b&&a.trigger("show"))}function b(){f=f.filter(":jquery-lazyload-any-show"),f.each(a),0===f.length&&(e=clearInterval(e))}var e,d=50,f=c();c.expr[":"]["jquery-lazyload-any-show"]=function(a){return c(a).data("jquery-lazyload-any-show")!==m},c.fn._bindShow=function(a){this.bind("show",a),this.data("jquery-lazyload-any-show","none"!=this.css("display")),f=f.add(this),d&&!e&&(e=setInterval(b,d))},c.fn._unbindShow=function(a){this.unbind("show",a),this.removeData("jquery-lazyload-any-show")},c.lazyload.setInterval=function(a){a==d||!c.isNumeric(a)||0>a||(d=a,e=clearInterval(e),0<d&&(e=setInterval(b,d)))}}()}(jQuery,window,document);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};!function(c){var n=-1,f=-1,g=function(a){return parseFloat(a)||0},r=function(a){var b=null,d=[];return c(a).each(function(){var a=c(this),k=a.offset().top-g(a.css("margin-top")),l=0<d.length?d[d.length-1]:null;null===l?d.push(a):1>=Math.floor(Math.abs(b-k))?d[d.length-1]=l.add(a):d.push(a),b=k}),d},p=function(a){var b={byRow:!0,property:"height",target:null,remove:!1};return"object"===("undefined"==typeof a?"undefined":_typeof(a))?c.extend(b,a):("boolean"==typeof a?b.byRow=a:"remove"===a&&(b.remove=!0),b)},b=c.fn.matchHeight=function(a){if(a=p(a),a.remove){var e=this;return this.css(a.property,""),c.each(b._groups,function(a,b){b.elements=b.elements.not(e)}),this}return 1>=this.length&&!a.target?this:(b._groups.push({elements:this,options:a}),b._apply(this,a),this)};b._groups=[],b._throttle=80,b._maintainScroll=!1,b._beforeUpdate=null,b._afterUpdate=null,b._apply=function(a,e){var d=p(e),h=c(a),k=[h],l=c(window).scrollTop(),f=c("html").outerHeight(!0),m=h.parents().filter(":hidden");return m.each(function(){var a=c(this);a.data("style-cache",a.attr("style"))}),m.css("display","block"),d.byRow&&!d.target&&(h.each(function(){var a=c(this),b=a.css("display");"inline-block"!==b&&"inline-flex"!==b&&(b="block"),a.data("style-cache",a.attr("style")),a.css({display:b,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px"})}),k=r(h),h.each(function(){var a=c(this);a.attr("style",a.data("style-cache")||"")})),c.each(k,function(a,b){var e=c(b),f=0;if(d.target)f=d.target.outerHeight(!1);else{if(d.byRow&&1>=e.length)return void e.css(d.property,"");e.each(function(){var a=c(this),b=a.css("display");"inline-block"!==b&&"inline-flex"!==b&&(b="block"),b={display:b},b[d.property]="",a.css(b),a.outerHeight(!1)>f&&(f=a.outerHeight(!1)),a.css("display","")})}e.each(function(){var a=c(this),b=0;d.target&&a.is(d.target)||("border-box"!==a.css("box-sizing")&&(b+=g(a.css("border-top-width"))+g(a.css("border-bottom-width")),b+=g(a.css("padding-top"))+g(a.css("padding-bottom"))),a.css(d.property,f-b+"px"))})}),m.each(function(){var a=c(this);a.attr("style",a.data("style-cache")||null)}),b._maintainScroll&&c(window).scrollTop(l/f*c("html").outerHeight(!0)),this},b._applyDataApi=function(){var a={};c("[data-match-height], [data-mh]").each(function(){var b=c(this),d=b.attr("data-mh")||b.attr("data-match-height");a[d]=d in a?a[d].add(b):b}),c.each(a,function(){this.matchHeight(!0)})};var q=function(a){b._beforeUpdate&&b._beforeUpdate(a,b._groups),c.each(b._groups,function(){b._apply(this.elements,this.options)}),b._afterUpdate&&b._afterUpdate(a,b._groups)};b._update=function(a,e){if(e&&"resize"===e.type){var d=c(window).width();if(d===n)return;n=d}a?-1===f&&(f=setTimeout(function(){q(e),f=-1},b._throttle)):q(e)},c(b._applyDataApi),c(window).bind("load",function(a){b._update(!1,a)}),c(window).bind("resize orientationchange",function(a){b._update(!0,a)})}(jQuery);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};!function(n){function v(b,f){var c,a=this,e=window.navigator,g=e.userAgent.toLowerCase();a.uid=n.rsModules.uid++,a.ns=".rs"+a.uid;var q,d=document.createElement("div").style,h=["webkit","Moz","ms","O"],k="",l=0;for(c=0;c<h.length;c++)q=h[c],!k&&q+"Transform"in d&&(k=q),q=q.toLowerCase(),window.requestAnimationFrame||(window.requestAnimationFrame=window[q+"RequestAnimationFrame"],window.cancelAnimationFrame=window[q+"CancelAnimationFrame"]||window[q+"CancelRequestAnimationFrame"]);window.requestAnimationFrame||(window.requestAnimationFrame=function(a,b){var c=(new Date).getTime(),d=Math.max(0,16-(c-l)),e=window.setTimeout(function(){a(c+d)},d);return l=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)}),a.isIPAD=g.match(/(ipad)/),a.isIOS=a.isIPAD||g.match(/(iphone|ipod)/),c=function(a){return a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[],{browser:a[1]||"",version:a[2]||"0"}}(g),h={},c.browser&&(h[c.browser]=!0,h.version=c.version),h.chrome&&(h.webkit=!0),a._a=h,a.isAndroid=-1<g.indexOf("android"),a.slider=n(b),a.ev=n(a),a._b=n(document),a.st=n.extend({},n.fn.royalSlider.defaults,f),a._c=a.st.transitionSpeed,a._d=0,!a.st.allowCSS3||h.webkit&&!a.st.allowCSS3OnWebkit||(c=k+(k?"T":"t"),a._e=c+"ransform"in d&&c+"ransition"in d,a._e&&(a._f=k+(k?"P":"p")+"erspective"in d)),k=k.toLowerCase(),a._g="-"+k+"-",a._h="vertical"!==a.st.slidesOrientation,a._i=a._h?"left":"top",a._j=a._h?"width":"height",a._k=-1,a._l="fade"!==a.st.transitionType,a._l||(a.st.sliderDrag=!1,a._m=10),a._n="z-index:0; display:none; opacity:0;",a._o=0,a._p=0,a._q=0,n.each(n.rsModules,function(b,c){"uid"!==b&&c.call(a)}),a.slides=[],a._r=0,(a.st.slides?n(a.st.slides):a.slider.children().detach()).each(function(){a._s(this,!0)}),a.st.randomizeSlides&&a.slides.sort(function(){return.5-Math.random()}),a.numSlides=a.slides.length,a._t(),a.st.startSlideId?a.st.startSlideId>a.numSlides-1&&(a.st.startSlideId=a.numSlides-1):a.st.startSlideId=0,a._o=a.staticSlideId=a.currSlideId=a._u=a.st.startSlideId,a.currSlide=a.slides[a.currSlideId],a._v=0,a.pointerMultitouch=!1,a.slider.addClass((a._h?"rsHor":"rsVer")+(a._l?"":" rsFade")),d='<div class="rsOverflow"><div class="rsContainer">',a.slidesSpacing=a.st.slidesSpacing,a._w=(a._h?a.slider.width():a.slider.height())+a.st.slidesSpacing,a._x=Boolean(0<a._y),1>=a.numSlides&&(a._z=!1),a._a1=a._z&&a._l?2===a.numSlides?1:2:0,a._b1=6>a.numSlides?a.numSlides:6,a._c1=0,a._d1=0,a.slidesJQ=[];for(c=0;c<a.numSlides;c++)a.slidesJQ.push(n('<div style="'+(a._l?"":c!==a.currSlideId?a._n:"z-index:0;")+'" class="rsSlide "></div>'));a._e1=d=n(d+"</div></div>");var m=a.ns,k=function(b,c,d,e,f){a._j1=b+c+m,a._k1=b+d+m,a._l1=b+e+m,f&&(a._m1=b+f+m)};c=e.pointerEnabled,a.pointerEnabled=c||e.msPointerEnabled,a.pointerEnabled?(a.hasTouch=!1,a._n1=.2,a.pointerMultitouch=Boolean(1<e[(c?"m":"msM")+"axTouchPoints"]),c?k("pointer","down","move","up","cancel"):k("MSPointer","Down","Move","Up","Cancel")):(a.isIOS?a._j1=a._k1=a._l1=a._m1="":k("mouse","down","move","up"),"ontouchstart"in window||"createTouch"in document?(a.hasTouch=!0,a._j1+=" touchstart"+m,a._k1+=" touchmove"+m,a._l1+=" touchend"+m,a._m1+=" touchcancel"+m,a._n1=.5,a.st.sliderTouch&&(a._f1=!0)):(a.hasTouch=!1,a._n1=.2)),a.st.sliderDrag&&(a._f1=!0,h.msie||h.opera?a._g1=a._h1="move":h.mozilla?(a._g1="-moz-grab",a._h1="-moz-grabbing"):h.webkit&&-1!=e.platform.indexOf("Mac")&&(a._g1="-webkit-grab",a._h1="-webkit-grabbing"),a._i1()),a.slider.html(d),a._o1=a.st.controlsInside?a._e1:a.slider,a._p1=a._e1.children(".rsContainer"),a.pointerEnabled&&a._p1.css((c?"":"-ms-")+"touch-action",a._h?"pan-y":"pan-x"),a._q1=n('<div class="rsPreloader"></div>'),e=a._p1.children(".rsSlide"),a._r1=a.slidesJQ[a.currSlideId],a._s1=0,a._e?(a._t1="transition-property",a._u1="transition-duration",a._v1="transition-timing-function",a._w1=a._x1=a._g+"transform",a._f?(h.webkit&&!h.chrome&&a.slider.addClass("rsWebkit3d"),a._y1="translate3d(",a._z1="px, ",a._a2="px, 0px)"):(a._y1="translate(",a._z1="px, ",a._a2="px)"),a._l?a._p1[a._g+a._t1]=a._g+"transform":(h={},h[a._g+a._t1]="opacity",h[a._g+a._u1]=a.st.transitionSpeed+"ms",h[a._g+a._v1]=a.st.css3easeInOut,e.css(h))):(a._x1="left",a._w1="top");var p;n(window).on("resize"+a.ns,function(){p&&clearTimeout(p),p=setTimeout(function(){a.updateSliderSize()},50)}),a.ev.trigger("rsAfterPropsSetup"),a.updateSliderSize(),a.st.keyboardNavEnabled&&a._b2(),a.st.arrowsNavHideOnTouch&&(a.hasTouch||a.pointerMultitouch)&&(a.st.arrowsNav=!1),a.st.arrowsNav&&(e=a._o1,n('<div class="rsArrow rsArrowLeft"><div class="rsArrowIcn"></div></div><div class="rsArrow rsArrowRight"><div class="rsArrowIcn"></div></div>').appendTo(e),a._c2=e.children(".rsArrowLeft").click(function(b){b.preventDefault(),a.prev()}),a._d2=e.children(".rsArrowRight").click(function(b){b.preventDefault(),a.next()}),a.st.arrowsNavAutoHide&&!a.hasTouch&&(a._c2.addClass("rsHidden"),a._d2.addClass("rsHidden"),e.one("mousemove.arrowshover",function(){a._c2.removeClass("rsHidden"),a._d2.removeClass("rsHidden")}),e.hover(function(){a._e2||(a._c2.removeClass("rsHidden"),a._d2.removeClass("rsHidden"))},function(){a._e2||(a._c2.addClass("rsHidden"),a._d2.addClass("rsHidden"))})),a.ev.on("rsOnUpdateNav",function(){a._f2()}),a._f2()),a.hasTouch&&a.st.sliderTouch||!a.hasTouch&&a.st.sliderDrag?a._p1.on(a._j1,function(b){a._g2(b)}):a.dragSuccess=!1;var r=["rsPlayBtnIcon","rsPlayBtn","rsCloseVideoBtn","rsCloseVideoIcn"];a._p1.click(function(b){if(!a.dragSuccess){var c=n(b.target).attr("class");if(-1!==n.inArray(c,r)&&a.toggleVideo())return!1;if(a.st.navigateByClick&&!a._h2){if(n(b.target).closest(".rsNoDrag",a._r1).length)return!0;a._i2(b)}a.ev.trigger("rsSlideClick",b)}}).on("click.rs","a",function(b){return!a.dragSuccess&&(a._h2=!0,void setTimeout(function(){a._h2=!1},3))}),a.ev.trigger("rsAfterInit")}n.rsModules||(n.rsModules={uid:0}),v.prototype={constructor:v,_i2:function(b){b=b[this._h?"pageX":"pageY"]-this._j2,b>=this._q?this.next():0>b&&this.prev()},_t:function(){var b;b=this.st.numImagesToPreload,(this._z=this.st.loop)&&(2===this.numSlides?(this._z=!1,this.st.loopRewind=!0):2>this.numSlides&&(this.st.loopRewind=this._z=!1)),this._z&&0<b&&(4>=this.numSlides?b=1:this.st.numImagesToPreload>(this.numSlides-1)/2&&(b=Math.floor((this.numSlides-1)/2))),this._y=b},_s:function(b,f){function c(b,c){if(c?g.images.push(b.attr(c)):g.images.push(b.text()),h){h=!1,g.caption="src"===c?b.attr("alt"):b.contents(),g.image=g.images[0],g.videoURL=b.attr("data-rsVideo");var d=b.attr("data-rsw"),e=b.attr("data-rsh");"undefined"!=typeof d&&!1!==d&&"undefined"!=typeof e&&!1!==e?(g.iW=parseInt(d,10),g.iH=parseInt(e,10)):a.st.imgWidth&&a.st.imgHeight&&(g.iW=a.st.imgWidth,g.iH=a.st.imgHeight)}}var e,d,a=this,g={},h=!0;if(b=n(b),a._k2=b,a.ev.trigger("rsBeforeParseNode",[b,g]),!g.stopParsing)return b=a._k2,g.id=a._r,g.contentAdded=!1,a._r++,g.images=[],g.isBig=!1,g.hasCover||(b.hasClass("rsImg")?(d=b,e=!0):(d=b.find(".rsImg"),d.length&&(e=!0)),e?(g.bigImage=d.eq(0).attr("data-rsBigImg"),d.each(function(){var a=n(this);a.is("a")?c(a,"href"):a.is("img")?c(a,"src"):c(a)})):b.is("img")&&(b.addClass("rsImg rsMainSlideImage"),c(b,"src"))),d=b.find(".rsCaption"),d.length&&(g.caption=d.remove()),g.content=b,a.ev.trigger("rsAfterParseNode",[b,g]),f&&a.slides.push(g),0===g.images.length&&(g.isLoaded=!0,g.isRendered=!1,g.isLoading=!1,g.images=null),g},_b2:function(){var f,c,b=this,a=function(_a){37===_a?b.prev():39===_a&&b.next()};b._b.on("keydown"+b.ns,function(e){if(!b.st.keyboardNavEnabled)return!0;if(!(b._l2||(c=e.keyCode,37!==c&&39!==c||f))){if(document.activeElement&&/(INPUT|SELECT|TEXTAREA)/i.test(document.activeElement.tagName))return!0;b.isFullscreen&&e.preventDefault(),a(c),f=setInterval(function(){a(c)},700)}}).on("keyup"+b.ns,function(a){f&&(clearInterval(f),f=null)})},goTo:function(b,f){b!==this.currSlideId&&this._m2(b,this.st.transitionSpeed,!0,!f)},destroy:function(b){this.ev.trigger("rsBeforeDestroy"),this._b.off("keydown"+this.ns+" keyup"+this.ns+" "+this._k1+" "+this._l1),this._p1.off(this._j1+" click"),this.slider.data("royalSlider",null),n.removeData(this.slider,"royalSlider"),n(window).off("resize"+this.ns),this.loadingTimeout&&clearTimeout(this.loadingTimeout),b&&this.slider.remove(),this.ev=this.slider=this.slides=null},_n2:function(b,f){function c(c,f,g){c.isAdded?(a(f,c),e(f,c)):(g||(g=d.slidesJQ[f]),c.holder?g=c.holder:(g=d.slidesJQ[f]=n(g),c.holder=g),c.appendOnLoaded=!1,e(f,c,g),a(f,c),d._p2(c,g,b),c.isAdded=!0)}function a(a,c){c.contentAdded||(d.setItemHtml(c,b),b||(c.contentAdded=!0))}function e(a,b,c){d._l&&(c||(c=d.slidesJQ[a]),c.css(d._i,(a+d._d1+p)*d._w))}function g(a){if(l){if(a>q-1)return g(a-q);if(0>a)return g(q+a)}return a}var h,k,d=this,l=d._z,q=d.numSlides;if(!isNaN(f))return g(f);var p,u,m=d.currSlideId,r=b?Math.abs(d._o2-d.currSlideId)>=d.numSlides-1?0:1:d._y,t=Math.min(2,r),w=!1,v=!1;for(k=m;k<m+1+t;k++)if(u=g(k),(h=d.slides[u])&&(!h.isAdded||!h.positionSet)){w=!0;break}for(k=m-1;k>m-1-t;k--)if(u=g(k),(h=d.slides[u])&&(!h.isAdded||!h.positionSet)){v=!0;break}if(w)for(k=m;k<m+r+1;k++)u=g(k),p=Math.floor((d._u-(m-k))/d.numSlides)*d.numSlides,(h=d.slides[u])&&c(h,u);if(v)for(k=m-1;k>m-1-r;k--)u=g(k),p=Math.floor((d._u-(m-k))/q)*q,(h=d.slides[u])&&c(h,u);if(!b)for(t=g(m-r),m=g(m+r),r=t>m?0:t,k=0;k<q;k++)t>m&&k>t-1||!(k<r||k>m)||(h=d.slides[k])&&h.holder&&(h.holder.detach(),h.isAdded=!1)},setItemHtml:function(b,f){var c=this,a=function a(){if(b.images){if(!b.isLoading){var a,f;if(b.content.hasClass("rsImg")?(a=b.content,f=!0):a=b.content.find(".rsImg:not(img)"),a&&!a.is("img")&&a.each(function(){var a=n(this),c='<img class="rsImg" src="'+(a.is("a")?a.attr("href"):a.text())+'" />';f?b.content=n(c):a.replaceWith(c)}),a=f?b.content:b.content.find("img.rsImg"),k(),a.eq(0).addClass("rsMainSlideImage"),b.iW&&b.iH&&(b.isLoaded||c._q2(b),d()),b.isLoading=!0,b.isBig)n("<img />").on("load.rs error.rs",function(a){n(this).off("load.rs error.rs"),e([this],!0)}).attr("src",b.image);else{b.loaded=[],b.numStartedLoad=0,a=function(_a2){n(this).off("load.rs error.rs"),b.loaded.push(this),b.loaded.length===b.numStartedLoad&&e(b.loaded,!1)};for(var g=0;g<b.images.length;g++){var h=n("<img />");b.numStartedLoad++,h.on("load.rs error.rs",a).attr("src",b.images[g])}}}}else b.isRendered=!0,b.isLoaded=!0,b.isLoading=!1,d(!0)},e=function e(a,c){if(a.length){var d=a[0];if(c!==b.isBig)(d=b.holder.children())&&1<d.length&&l();else if(b.iW&&b.iH)g();else if(b.iW=d.width,b.iH=d.height,b.iW&&b.iH)g();else{var e=new Image;e.onload=function(){e.width?(b.iW=e.width,b.iH=e.height,g()):setTimeout(function(){e.width&&(b.iW=e.width,b.iH=e.height),g()},1e3)},e.src=d.src}}else g()},g=function(){b.isLoaded=!0,b.isLoading=!1,d(),l(),h()},d=function d(){if(!b.isAppended&&c.ev){var a=c.st.visibleNearby,d=b.id-c._o;f||b.appendOnLoaded||!c.st.fadeinLoadedSlide||0!==d&&(!(a||c._r2||c._l2)||-1!==d&&1!==d)||(a={visibility:"visible",opacity:0},a[c._g+"transition"]="opacity 400ms ease-in-out",b.content.css(a),setTimeout(function(){b.content.css("opacity",1)},16)),b.holder.find(".rsPreloader").length?b.holder.append(b.content):b.holder.html(b.content),b.isAppended=!0,b.isLoaded&&(c._q2(b),h()),b.sizeReady||(b.sizeReady=!0,setTimeout(function(){c.ev.trigger("rsMaybeSizeReady",b)},100))}},h=function(){!b.loadedTriggered&&c.ev&&(b.isLoaded=b.loadedTriggered=!0,b.holder.trigger("rsAfterContentSet"),c.ev.trigger("rsAfterContentSet",b))},k=function(){c.st.usePreloader&&b.holder.html(c._q1.clone())},l=function(a){c.st.usePreloader&&(a=b.holder.find(".rsPreloader"),a.length&&a.remove())};b.isLoaded?d():f?!c._l&&b.images&&b.iW&&b.iH?a():(b.holder.isWaiting=!0,k(),b.holder.slideId=-99):a()},_p2:function(b,f,c){this._p1.append(b.holder),b.appendOnLoaded=!1},_g2:function(b,f){var a,c=this,e="touchstart"===b.type;if(c._s2=e,c.ev.trigger("rsDragStart"),n(b.target).closest(".rsNoDrag",c._r1).length)return c.dragSuccess=!1,!0;if(!f&&c._r2&&(c._t2=!0,c._u2()),c.dragSuccess=!1,c._l2)e&&(c._v2=!0);else{if(e&&(c._v2=!1),c._w2(),e){var g=b.originalEvent.touches;if(!(g&&0<g.length))return;a=g[0],1<g.length&&(c._v2=!0)}else b.preventDefault(),a=b,c.pointerEnabled&&(a=a.originalEvent);c._l2=!0,c._b.on(c._k1,function(a){c._x2(a,f)}).on(c._l1,function(a){c._y2(a,f)}),c._z2="",c._a3=!1,c._b3=a.pageX,c._c3=a.pageY,c._d3=c._v=(f?c._e3:c._h)?a.pageX:a.pageY,c._f3=0,c._g3=0,c._h3=f?c._i3:c._p,c._j3=(new Date).getTime(),e&&c._e1.on(c._m1,function(a){c._y2(a,f)})}},_k3:function(b,f){if(this._l3){var c=this._m3,a=b.pageX-this._b3,e=b.pageY-this._c3,g=this._h3+a,d=this._h3+e,h=f?this._e3:this._h,g=h?g:d,d=this._z2;this._a3=!0,this._b3=b.pageX,this._c3=b.pageY,"x"===d&&0!==a?this._f3=0<a?1:-1:"y"===d&&0!==e&&(this._g3=0<e?1:-1),d=h?this._b3:this._c3,a=h?a:e,f?g>this._n3?g=this._h3+a*this._n1:g<this._o3&&(g=this._h3+a*this._n1):this._z||(0>=this.currSlideId&&0<d-this._d3&&(g=this._h3+a*this._n1),this.currSlideId>=this.numSlides-1&&0>d-this._d3&&(g=this._h3+a*this._n1)),this._h3=g,200<c-this._j3&&(this._j3=c,this._v=d),f?this._q3(this._h3):this._l&&this._p3(this._h3)}},_x2:function(b,f){var a,c=this,e="touchmove"===b.type;if(!c._s2||e){if(e){if(c._r3)return;var g=b.originalEvent.touches;if(!g)return;if(1<g.length)return;a=g[0]}else a=b,c.pointerEnabled&&(a=a.originalEvent);if(c._a3||(c._e&&(f?c._s3:c._p1).css(c._g+c._u1,"0s"),function h(){c._l2&&(c._t3=requestAnimationFrame(h),c._u3&&c._k3(c._u3,f))}()),c._l3)b.preventDefault(),c._m3=(new Date).getTime(),c._u3=a;else if(g=f?c._e3:c._h,a=Math.abs(a.pageX-c._b3)-Math.abs(a.pageY-c._c3)-(g?-7:7),7<a){if(g)b.preventDefault(),c._z2="x";else if(e)return void c._v3(b);c._l3=!0}else if(-7>a){if(g){if(e)return void c._v3(b)}else b.preventDefault(),c._z2="y";c._l3=!0}}},_v3:function(b,f){this._r3=!0,this._a3=this._l2=!1,this._y2(b)},_y2:function(b,f){function c(a){return 100>a?100:500<a?500:a}function a(a,b){(e._l||f)&&(h=(-e._u-e._d1)*e._w,k=Math.abs(e._p-h),e._c=k/b,a&&(e._c+=250),e._c=c(e._c),e._x3(h,!1))}var g,d,h,k,e=this;if(g=-1<b.type.indexOf("touch"),!e._s2||g)if(e._s2=!1,e.ev.trigger("rsDragRelease"),e._u3=null,e._l2=!1,e._r3=!1,e._l3=!1,e._m3=0,cancelAnimationFrame(e._t3),e._a3&&(f?e._q3(e._h3):e._l&&e._p3(e._h3)),e._b.off(e._k1).off(e._l1),g&&e._e1.off(e._m1),e._i1(),!e._a3&&!e._v2&&f&&e._w3){var l=n(b.target).closest(".rsNavItem");l.length&&e.goTo(l.index())}else{if(d=f?e._e3:e._h,!e._a3||"y"===e._z2&&d||"x"===e._z2&&!d){if(f||!e._t2)return e._t2=!1,void(e.dragSuccess=!1);if(e._t2=!1,e.st.navigateByClick)return e._i2(e.pointerEnabled?b.originalEvent:b),void(e.dragSuccess=!0);e.dragSuccess=!0}else e.dragSuccess=!0;e._t2=!1,e._z2="";var q=e.st.minSlideOffset;g=g?b.originalEvent.changedTouches[0]:e.pointerEnabled?b.originalEvent:b;var m=d?g.pageX:g.pageY,p=e._d3;g=e._v;var r=e.currSlideId,t=e.numSlides,w=d?e._f3:e._g3,v=e._z;if(Math.abs(m-p),g=m-g,d=(new Date).getTime()-e._j3,d=Math.abs(g)/d,0===w||1>=t)a(!0,d);else{if(!v&&!f)if(0>=r){if(0<w)return void a(!0,d)}else if(r>=t-1&&0>w)return void a(!0,d);if(f){if(h=e._i3,h>e._n3)h=e._n3;else if(h<e._o3)h=e._o3;else{if(m=d*d/.006,l=-e._i3,p=e._y3-e._z3+e._i3,0<g&&m>l?(l+=e._z3/(15/(m/d*.003)),d=d*l/m,m=l):0>g&&m>p&&(p+=e._z3/(15/(m/d*.003)),d=d*p/m,m=p),l=Math.max(Math.round(d/.003),50),h+=m*(0>g?-1:1),h>e._n3)return void e._a4(h,l,!0,e._n3,200);if(h<e._o3)return void e._a4(h,l,!0,e._o3,200)}e._a4(h,l,!0)}else l=function(a){var b=Math.floor(a/e._w);return a-b*e._w>q&&b++,b},p+q<m?0>w?a(!1,d):(l=l(m-p),e._m2(e.currSlideId-l,c(Math.abs(e._p-(-e._u-e._d1+l)*e._w)/d),!1,!0,!0)):p-q>m?0<w?a(!1,d):(l=l(p-m),e._m2(e.currSlideId+l,c(Math.abs(e._p-(-e._u-e._d1-l)*e._w)/d),!1,!0,!0)):a(!1,d)}}},_p3:function(b){b=this._p=b,this._e?this._p1.css(this._x1,this._y1+(this._h?b+this._z1+0:0+this._z1+b)+this._a2):this._p1.css(this._h?this._x1:this._w1,b)},updateSliderSize:function(b){var f,c;if(this.slider){if(this.st.autoScaleSlider){var a=this.st.autoScaleSliderWidth,e=this.st.autoScaleSliderHeight;this.st.autoScaleHeight?(f=this.slider.width(),f!=this.width&&(this.slider.css("height",e/a*f),f=this.slider.width()),c=this.slider.height()):(c=this.slider.height(),c!=this.height&&(this.slider.css("width",a/e*c),c=this.slider.height()),f=this.slider.width())}else f=this.slider.width(),c=this.slider.height();if(b||f!=this.width||c!=this.height){for(this.width=f,this.height=c,this._b4=f,this._c4=c,this.ev.trigger("rsBeforeSizeSet"),this.ev.trigger("rsAfterSizePropSet"),this._e1.css({width:this._b4,height:this._c4}),this._w=(this._h?this._b4:this._c4)+this.st.slidesSpacing,this._d4=this.st.imageScalePadding,f=0;f<this.slides.length;f++)b=this.slides[f],b.positionSet=!1,b&&b.images&&b.isLoaded&&(b.isRendered=!1,this._q2(b));if(this._e4)for(f=0;f<this._e4.length;f++)b=this._e4[f],b.holder.css(this._i,(b.id+this._d1)*this._w);this._n2(),this._l&&(this._e&&this._p1.css(this._g+"transition-duration","0s"),this._p3((-this._u-this._d1)*this._w)),this.ev.trigger("rsOnUpdateNav")}this._j2=this._e1.offset(),this._j2=this._j2[this._i]}},appendSlide:function(b,f){var c=this._s(b);(isNaN(f)||f>this.numSlides)&&(f=this.numSlides),this.slides.splice(f,0,c),this.slidesJQ.splice(f,0,n('<div style="'+(this._l?"position:absolute;":this._n)+'" class="rsSlide"></div>')),f<=this.currSlideId&&this.currSlideId++,this.ev.trigger("rsOnAppendSlide",[c,f]),this._f4(f),f===this.currSlideId&&this.ev.trigger("rsAfterSlideChange")},removeSlide:function(b){var f=this.slides[b];f&&(f.holder&&f.holder.remove(),b<this.currSlideId&&this.currSlideId--,this.slides.splice(b,1),this.slidesJQ.splice(b,1),this.ev.trigger("rsOnRemoveSlide",[b]),this._f4(b),b===this.currSlideId&&this.ev.trigger("rsAfterSlideChange"))},_f4:function(b){var f=this;for(b=f.numSlides,b=0>=f._u?0:Math.floor(f._u/b),f.numSlides=f.slides.length,0===f.numSlides?(f.currSlideId=f._d1=f._u=0,f.currSlide=f._g4=null):f._u=b*f.numSlides+f.currSlideId,b=0;b<f.numSlides;b++)f.slides[b].id=b;f.currSlide=f.slides[f.currSlideId],f._r1=f.slidesJQ[f.currSlideId],f.currSlideId>=f.numSlides?f.goTo(f.numSlides-1):0>f.currSlideId&&f.goTo(0),f._t(),f._l&&f._p1.css(f._g+f._u1,"0ms"),f._h4&&clearTimeout(f._h4),f._h4=setTimeout(function(){f._l&&f._p3((-f._u-f._d1)*f._w),f._n2(),f._l||f._r1.css({display:"block",opacity:1})},14),f.ev.trigger("rsOnUpdateNav")},_i1:function(){this._f1&&this._l&&(this._g1?this._e1.css("cursor",this._g1):(this._e1.removeClass("grabbing-cursor"),this._e1.addClass("grab-cursor")))},_w2:function(){this._f1&&this._l&&(this._h1?this._e1.css("cursor",this._h1):(this._e1.removeClass("grab-cursor"),this._e1.addClass("grabbing-cursor")))},next:function(b){this._m2("next",this.st.transitionSpeed,!0,!b)},prev:function(b){this._m2("prev",this.st.transitionSpeed,!0,!b)},_m2:function(b,f,c,a,e){var d,h,k,g=this;if(g.ev.trigger("rsBeforeMove",[b,a]),k="next"===b?g.currSlideId+1:"prev"===b?g.currSlideId-1:b=parseInt(b,10),!g._z){if(0>k)return void g._i4("left",!a);if(k>=g.numSlides)return void g._i4("right",!a)}g._r2&&(g._u2(!0),c=!1),h=k-g.currSlideId,k=g._o2=g.currSlideId;var l=g.currSlideId+h;a=g._u;var n;g._z?(l=g._n2(!1,l),a+=h):a=l,g._o=l,g._g4=g.slidesJQ[g.currSlideId],g._u=a,g.currSlideId=g._o,g.currSlide=g.slides[g.currSlideId],g._r1=g.slidesJQ[g.currSlideId];var l=g.st.slidesDiff,m=Boolean(0<h);h=Math.abs(h);var p=Math.floor(k/g._y),r=Math.floor((k+(m?l:-l))/g._y),p=(m?Math.max(p,r):Math.min(p,r))*g._y+(m?g._y-1:0);if(p>g.numSlides-1?p=g.numSlides-1:0>p&&(p=0),k=m?p-k:k-p,k>g._y&&(k=g._y),h>k+l)for(g._d1+=(h-(k+l))*(m?-1:1),f*=1.4,k=0;k<g.numSlides;k++)g.slides[k].positionSet=!1;g._c=f,g._n2(!0),e||(n=!0),d=(-a-g._d1)*g._w,n?setTimeout(function(){g._j4=!1,g._x3(d,b,!1,c),g.ev.trigger("rsOnUpdateNav")},0):(g._x3(d,b,!1,c),g.ev.trigger("rsOnUpdateNav"))},_f2:function(){this.st.arrowsNav&&(1>=this.numSlides?(this._c2.css("display","none"),this._d2.css("display","none")):(this._c2.css("display","block"),this._d2.css("display","block"),this._z||this.st.loopRewind||(0===this.currSlideId?this._c2.addClass("rsArrowDisabled"):this._c2.removeClass("rsArrowDisabled"),this.currSlideId===this.numSlides-1?this._d2.addClass("rsArrowDisabled"):this._d2.removeClass("rsArrowDisabled"))))},_x3:function(b,f,c,a,e){function g(){var a;h&&(a=h.data("rsTimeout"))&&(h!==k&&h.css({opacity:0,display:"none",zIndex:0}),clearTimeout(a),h.data("rsTimeout","")),(a=k.data("rsTimeout"))&&(clearTimeout(a),k.data("rsTimeout",""))}var h,k,d=this,l={};isNaN(d._c)&&(d._c=400),d._p=d._h3=b,d.ev.trigger("rsBeforeAnimStart"),d._e?d._l?(d._c=parseInt(d._c,10),c=d._g+d._v1,l[d._g+d._u1]=d._c+"ms",l[c]=a?n.rsCSS3Easing[d.st.easeInOut]:n.rsCSS3Easing[d.st.easeOut],d._p1.css(l),a||!d.hasTouch?setTimeout(function(){d._p3(b)},5):d._p3(b)):(d._c=d.st.transitionSpeed,h=d._g4,k=d._r1,k.data("rsTimeout")&&k.css("opacity",0),g(),h&&h.data("rsTimeout",setTimeout(function(){l[d._g+d._u1]="0ms",l.zIndex=0,l.display="none",h.data("rsTimeout",""),h.css(l),setTimeout(function(){h.css("opacity",0)},16)},d._c+60)),l.display="block",l.zIndex=d._m,l.opacity=0,l[d._g+d._u1]="0ms",l[d._g+d._v1]=n.rsCSS3Easing[d.st.easeInOut],k.css(l),k.data("rsTimeout",setTimeout(function(){k.css(d._g+d._u1,d._c+"ms"),k.data("rsTimeout",setTimeout(function(){k.css("opacity",1),k.data("rsTimeout","")},20))},20))):d._l?(l[d._h?d._x1:d._w1]=b+"px",d._p1.animate(l,d._c,a?d.st.easeInOut:d.st.easeOut)):(h=d._g4,k=d._r1,k.stop(!0,!0).css({opacity:0,display:"block",zIndex:d._m}),d._c=d.st.transitionSpeed,k.animate({opacity:1},d._c,d.st.easeInOut),g(),h&&h.data("rsTimeout",setTimeout(function(){h.stop(!0,!0).css({opacity:0,display:"none",zIndex:0})},d._c+60))),d._r2=!0,d.loadingTimeout&&clearTimeout(d.loadingTimeout),d.loadingTimeout=e?setTimeout(function(){d.loadingTimeout=null,e.call()},d._c+60):setTimeout(function(){d.loadingTimeout=null,d._k4(f)},d._c+60)},_u2:function(b){if(this._r2=!1,clearTimeout(this.loadingTimeout),this._l)if(this._e){if(!b){b=this._p;var f=this._h3=this._l4();this._p1.css(this._g+this._u1,"0ms"),b!==f&&this._p3(f)}}else this._p1.stop(!0),this._p=parseInt(this._p1.css(this._h?this._x1:this._w1),10);else 20<this._m?this._m=10:this._m++;
},_l4:function(){var b=window.getComputedStyle(this._p1.get(0),null).getPropertyValue(this._g+"transform").replace(/^matrix\(/i,"").split(/, |\)$/g),f=0===b[0].indexOf("matrix3d");return parseInt(b[this._h?f?12:4:f?13:5],10)},_m4:function(b,f){return this._e?this._y1+(f?b+this._z1+0:0+this._z1+b)+this._a2:b},_k4:function(b){this._l||(this._r1.css("z-index",0),this._m=10),this._r2=!1,this.staticSlideId=this.currSlideId,this._n2(),this._n4=!1,this.ev.trigger("rsAfterSlideChange")},_i4:function(b,f){var c=this,a=(-c._u-c._d1)*c._w;if(0!==c.numSlides&&!c._r2)if(c.st.loopRewind)c.goTo("left"===b?c.numSlides-1:0,f);else if(c._l){c._c=200;var e=function(){c._r2=!1};c._x3(a+("left"===b?30:-30),"",!1,!0,function(){c._r2=!1,c._x3(a,"",!1,!0,e)})}},_q2:function(b,f){if(!b.isRendered){var e,h,c=b.content,a="rsMainSlideImage",g=n.isFunction(this.st.imageAlignCenter)?this.st.imageAlignCenter(b):this.st.imageAlignCenter,d=n.isFunction(this.st.imageScaleMode)?this.st.imageScaleMode(b):this.st.imageScaleMode;if(b.videoURL&&(a="rsVideoContainer","fill"!==d?e=!0:(h=c,h.hasClass(a)||(h=h.find("."+a)),h.css({width:"100%",height:"100%"}),a="rsMainSlideImage")),c.hasClass(a)||(c=c.find("."+a)),c){var k=b.iW,l=b.iH;if(b.isRendered=!0,"none"!==d||g){a="fill"!==d?this._d4:0,h=this._b4-2*a;var m,p,q=this._c4-2*a,r={};"fit-if-smaller"===d&&(k>h||l>q)&&(d="fit"),"fill"!==d&&"fit"!==d||(m=h/k,p=q/l,m="fill"==d?m>p?m:p:"fit"==d?m<p?m:p:1,k=Math.ceil(k*m,10),l=Math.ceil(l*m,10)),"none"!==d&&(r.width=k,r.height=l,e&&c.find(".rsImg").css({width:"100%",height:"100%"})),g&&(r.marginLeft=Math.floor((h-k)/2)+a,r.marginTop=Math.floor((q-l)/2)+a),c.css(r)}}}}},n.rsProto=v.prototype,n.fn.royalSlider=function(b){var f=arguments;return this.each(function(){var c=n(this);if("object"!==("undefined"==typeof b?"undefined":_typeof(b))&&b){if((c=c.data("royalSlider"))&&c[b])return c[b].apply(c,Array.prototype.slice.call(f,1))}else c.data("royalSlider")||c.data("royalSlider",new v(c,b))})},n.fn.royalSlider.defaults={slidesSpacing:8,startSlideId:0,loop:!1,loopRewind:!1,numImagesToPreload:4,fadeinLoadedSlide:!0,slidesOrientation:"horizontal",transitionType:"move",transitionSpeed:600,controlNavigation:"bullets",controlsInside:!0,arrowsNav:!0,arrowsNavAutoHide:!0,navigateByClick:!0,randomizeSlides:!1,sliderDrag:!0,sliderTouch:!0,keyboardNavEnabled:!1,fadeInAfterLoaded:!0,allowCSS3:!0,allowCSS3OnWebkit:!0,addActiveClass:!1,autoHeight:!1,easeOut:"easeOutSine",easeInOut:"easeInOutSine",minSlideOffset:10,imageScaleMode:"fit-if-smaller",imageAlignCenter:!0,imageScalePadding:4,usePreloader:!0,autoScaleSlider:!1,autoScaleSliderWidth:800,autoScaleSliderHeight:400,autoScaleHeight:!0,arrowsNavHideOnTouch:!1,globalCaption:!1,slidesDiff:2},n.rsCSS3Easing={easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)"},n.extend(jQuery.easing,{easeInOutSine:function(b,f,c,a,e){return-a/2*(Math.cos(Math.PI*f/e)-1)+c},easeOutSine:function(b,f,c,a,e){return a*Math.sin(f/e*(Math.PI/2))+c},easeOutCubic:function(b,f,c,a,e){return a*((f=f/e-1)*f*f+1)+c}})}(jQuery,window),function(c){c.extend(c.rsProto,{_i5:function(){var a=this;"bullets"===a.st.controlNavigation&&(a.ev.one("rsAfterPropsSetup",function(){a._j5=!0,a.slider.addClass("rsWithBullets");for(var b='<div class="rsNav rsBullets">',e=0;e<a.numSlides;e++)b+='<div class="rsNavItem rsBullet"><span></span></div>';a._k5=b=c(b+"</div>"),a._l5=b.appendTo(a.slider).children(),a._k5.on("click.rs",".rsNavItem",function(b){a._m5||a.goTo(c(this).index())})}),a.ev.on("rsOnAppendSlide",function(b,c,d){d>=a.numSlides?a._k5.append('<div class="rsNavItem rsBullet"><span></span></div>'):a._l5.eq(d).before('<div class="rsNavItem rsBullet"><span></span></div>'),a._l5=a._k5.children()}),a.ev.on("rsOnRemoveSlide",function(b,c){var d=a._l5.eq(c);d&&d.length&&(d.remove(),a._l5=a._k5.children())}),a.ev.on("rsOnUpdateNav",function(){var b=a.currSlideId;a._n5&&a._n5.removeClass("rsNavSelected"),b=a._l5.eq(b),b.addClass("rsNavSelected"),a._n5=b}))}}),c.rsModules.bullets=c.rsProto._i5}(jQuery),function(f){f.extend(f.rsProto,{_h6:function(){var a=this;"thumbnails"===a.st.controlNavigation&&(a._i6={drag:!0,touch:!0,orientation:"horizontal",navigation:!0,arrows:!0,arrowLeft:null,arrowRight:null,spacing:4,arrowsAutoHide:!1,appendSpan:!1,transitionSpeed:600,autoCenter:!0,fitInViewport:!0,firstMargin:!0,paddingTop:0,paddingBottom:0},a.st.thumbs=f.extend({},a._i6,a.st.thumbs),a._j6=!0,!1===a.st.thumbs.firstMargin?a.st.thumbs.firstMargin=0:!0===a.st.thumbs.firstMargin&&(a.st.thumbs.firstMargin=a.st.thumbs.spacing),a.ev.on("rsBeforeParseNode",function(a,b,c){b=f(b),c.thumbnail=b.find(".rsTmb").remove(),c.thumbnail.length?c.thumbnail=f(document.createElement("div")).append(c.thumbnail).html():(c.thumbnail=b.attr("data-rsTmb"),c.thumbnail||(c.thumbnail=b.find(".rsImg").attr("data-rsTmb")),c.thumbnail=c.thumbnail?'<img src="'+c.thumbnail+'"/>':"")}),a.ev.one("rsAfterPropsSetup",function(){a._k6()}),a._n5=null,a.ev.on("rsOnUpdateNav",function(){var e=f(a._l5[a.currSlideId]);e!==a._n5&&(a._n5&&(a._n5.removeClass("rsNavSelected"),a._n5=null),a._l6&&a._m6(a.currSlideId),a._n5=e.addClass("rsNavSelected"))}),a.ev.on("rsOnAppendSlide",function(e,b,c){e="<div"+a._n6+' class="rsNavItem rsThumb">'+a._o6+b.thumbnail+"</div>",a._e&&a._s3.css(a._g+"transition-duration","0ms"),c>=a.numSlides?a._s3.append(e):a._l5.eq(c).before(e),a._l5=a._s3.children(),a.updateThumbsSize(!0)}),a.ev.on("rsOnRemoveSlide",function(e,b){var c=a._l5.eq(b);c&&(a._e&&a._s3.css(a._g+"transition-duration","0ms"),c.remove(),a._l5=a._s3.children(),a.updateThumbsSize(!0))}))},_k6:function(){var g,d,a=this,e="rsThumbs",b=a.st.thumbs,c="",h=b.spacing;a._j5=!0,a._e3="vertical"!==b.orientation,a._n6=g=h?' style="margin-'+(a._e3?"right":"bottom")+":"+h+'px;"':"",a._i3=0,a._p6=!1,a._m5=!1,a._l6=!1,a._q6=b.arrows&&b.navigation,d=a._e3?"Hor":"Ver",a.slider.addClass("rsWithThumbs rsWithThumbs"+d),c+='<div class="rsNav rsThumbs rsThumbs'+d+'"><div class="'+e+'Container">',a._o6=b.appendSpan?'<span class="thumbIco"></span>':"";for(var k=0;k<a.numSlides;k++)d=a.slides[k],c+="<div"+g+' class="rsNavItem rsThumb">'+d.thumbnail+a._o6+"</div>";c=f(c+"</div></div>"),g={},b.paddingTop&&(g[a._e3?"paddingTop":"paddingLeft"]=b.paddingTop),b.paddingBottom&&(g[a._e3?"paddingBottom":"paddingRight"]=b.paddingBottom),c.css(g),a._s3=f(c).find("."+e+"Container"),a._q6&&(e+="Arrow",b.arrowLeft?a._r6=b.arrowLeft:(a._r6=f('<div class="'+e+" "+e+'Left"><div class="'+e+'Icn"></div></div>'),c.append(a._r6)),b.arrowRight?a._s6=b.arrowRight:(a._s6=f('<div class="'+e+" "+e+'Right"><div class="'+e+'Icn"></div></div>'),c.append(a._s6)),a._r6.click(function(){var b=(Math.floor(a._i3/a._t6)+a._u6)*a._t6+a.st.thumbs.firstMargin;a._a4(b>a._n3?a._n3:b)}),a._s6.click(function(){var b=(Math.floor(a._i3/a._t6)-a._u6)*a._t6+a.st.thumbs.firstMargin;a._a4(b<a._o3?a._o3:b)}),b.arrowsAutoHide&&!a.hasTouch&&(a._r6.css("opacity",0),a._s6.css("opacity",0),c.one("mousemove.rsarrowshover",function(){a._l6&&(a._r6.css("opacity",1),a._s6.css("opacity",1))}),c.hover(function(){a._l6&&(a._r6.css("opacity",1),a._s6.css("opacity",1))},function(){a._l6&&(a._r6.css("opacity",0),a._s6.css("opacity",0))}))),a._k5=c,a._l5=a._s3.children(),a.msEnabled&&a.st.thumbs.navigation&&a._s3.css("-ms-touch-action",a._e3?"pan-y":"pan-x"),a.slider.append(c),a._w3=!0,a._v6=h,b.navigation&&a._e&&a._s3.css(a._g+"transition-property",a._g+"transform"),a._k5.on("click.rs",".rsNavItem",function(b){a._m5||a.goTo(f(this).index())}),a.ev.off("rsBeforeSizeSet.thumbs").on("rsBeforeSizeSet.thumbs",function(){a._w6=a._e3?a._c4:a._b4,a.updateThumbsSize(!0)}),a.ev.off("rsAutoHeightChange.thumbs").on("rsAutoHeightChange.thumbs",function(b,c){a.updateThumbsSize(!0,c)})},updateThumbsSize:function(a,e){var b=this,c=b._l5.first(),f={},d=b._l5.length;b._t6=(b._e3?c.outerWidth():c.outerHeight())+b._v6,b._y3=d*b._t6-b._v6,f[b._e3?"width":"height"]=b._y3+b._v6,b._z3=b._e3?b._k5.width():void 0!==e?e:b._k5.height(),b._w3&&(b.isFullscreen||b.st.thumbs.fitInViewport)&&(b._e3?b._c4=b._w6-b._k5.outerHeight():b._b4=b._w6-b._k5.outerWidth()),b._z3&&(b._o3=-(b._y3-b._z3)-b.st.thumbs.firstMargin,b._n3=b.st.thumbs.firstMargin,b._u6=Math.floor(b._z3/b._t6),b._y3<b._z3?(b.st.thumbs.autoCenter?b._q3((b._z3-b._y3)/2):b._q3(b._n3),b.st.thumbs.arrows&&b._r6&&(b._r6.addClass("rsThumbsArrowDisabled"),b._s6.addClass("rsThumbsArrowDisabled")),b._l6=!1,b._m5=!1,b._k5.off(b._j1)):b.st.thumbs.navigation&&!b._l6&&(b._l6=!0,!b.hasTouch&&b.st.thumbs.drag||b.hasTouch&&b.st.thumbs.touch)&&(b._m5=!0,b._k5.on(b._j1,function(a){b._g2(a,!0)})),b._s3.css(f),a&&e&&b._m6(b.currSlideId,!0))},setThumbsOrientation:function(a,e){this._w3&&(this.st.thumbs.orientation=a,this._k5.remove(),this.slider.removeClass("rsWithThumbsHor rsWithThumbsVer"),this._k6(),this._k5.off(this._j1),e||this.updateSliderSize(!0))},_q3:function(a){this._i3=a,this._e?this._s3.css(this._x1,this._y1+(this._e3?a+this._z1+0:0+this._z1+a)+this._a2):this._s3.css(this._e3?this._x1:this._w1,a)},_a4:function(a,e,b,c,g){var d=this;if(d._l6){e||(e=d.st.thumbs.transitionSpeed),d._i3=a,d._x6&&clearTimeout(d._x6),d._p6&&(d._e||d._s3.stop(),b=!0);var h={};d._p6=!0,d._e?(h[d._g+"transition-duration"]=e+"ms",h[d._g+"transition-timing-function"]=b?f.rsCSS3Easing[d.st.easeOut]:f.rsCSS3Easing[d.st.easeInOut],d._s3.css(h),d._q3(a)):(h[d._e3?d._x1:d._w1]=a+"px",d._s3.animate(h,e,b?"easeOutCubic":d.st.easeInOut)),c&&(d._i3=c),d._y6(),d._x6=setTimeout(function(){d._p6=!1,g&&(d._a4(c,g,!0),g=null)},e)}},_y6:function(){this._q6&&(this._i3===this._n3?this._r6.addClass("rsThumbsArrowDisabled"):this._r6.removeClass("rsThumbsArrowDisabled"),this._i3===this._o3?this._s6.addClass("rsThumbsArrowDisabled"):this._s6.removeClass("rsThumbsArrowDisabled"))},_m6:function(a,e){var c,b=0,f=a*this._t6+2*this._t6-this._v6+this._n3,d=Math.floor(this._i3/this._t6);this._l6&&(this._j6&&(e=!0,this._j6=!1),f+this._i3>this._z3?(a===this.numSlides-1&&(b=1),d=-a+this._u6-2+b,c=d*this._t6+this._z3%this._t6+this._v6-this._n3):0!==a?(a-1)*this._t6<=-this._i3+this._n3&&a-1<=this.numSlides-this._u6&&(c=(-a+1)*this._t6+this._n3):c=this._n3,c!==this._i3&&(b=void 0===c?this._i3:c,b>this._n3?this._q3(this._n3):b<this._o3?this._q3(this._o3):void 0!==c&&(e?this._q3(c):this._a4(c))),this._y6())}}),f.rsModules.thumbnails=f.rsProto._h6}(jQuery),function(b){b.extend(b.rsProto,{_x4:function(){var d,a=this;a._y4={enabled:!1,stopAtAction:!0,pauseOnHover:!0,delay:2e3},!a.st.autoPlay&&a.st.autoplay&&(a.st.autoPlay=a.st.autoplay),a.st.autoPlay=b.extend({},a._y4,a.st.autoPlay),a.st.autoPlay.enabled&&(a.ev.on("rsBeforeParseNode",function(a,c,f){c=b(c),(d=c.attr("data-rsDelay"))&&(f.customDelay=parseInt(d,10))}),a.ev.one("rsAfterInit",function(){a._z4()}),a.ev.on("rsBeforeDestroy",function(){a.stopAutoPlay(),a.slider.off("mouseenter mouseleave"),b(window).off("blur"+a.ns+" focus"+a.ns)}))},_z4:function(){var a=this;a.startAutoPlay(),a.ev.on("rsAfterContentSet",function(b,e){a._l2||a._r2||!a._a5||e!==a.currSlide||a._b5()}),a.ev.on("rsDragRelease",function(){a._a5&&a._c5&&(a._c5=!1,a._b5())}),a.ev.on("rsAfterSlideChange",function(){a._a5&&a._c5&&(a._c5=!1,a.currSlide.isLoaded&&a._b5())}),a.ev.on("rsDragStart",function(){a._a5&&(a.st.autoPlay.stopAtAction?a.stopAutoPlay():(a._c5=!0,a._d5()))}),a.ev.on("rsBeforeMove",function(b,e,c){a._a5&&(c&&a.st.autoPlay.stopAtAction?a.stopAutoPlay():(a._c5=!0,a._d5()))}),a._e5=!1,a.ev.on("rsVideoStop",function(){a._a5&&(a._e5=!1,a._b5())}),a.ev.on("rsVideoPlay",function(){a._a5&&(a._c5=!1,a._d5(),a._e5=!0)}),b(window).on("blur"+a.ns,function(){a._a5&&(a._c5=!0,a._d5())}).on("focus"+a.ns,function(){a._a5&&a._c5&&(a._c5=!1,a._b5())}),a.st.autoPlay.pauseOnHover&&(a._f5=!1,a.slider.hover(function(){a._a5&&(a._c5=!1,a._d5(),a._f5=!0)},function(){a._a5&&(a._f5=!1,a._b5())}))},toggleAutoPlay:function(){this._a5?this.stopAutoPlay():this.startAutoPlay()},startAutoPlay:function(){this._a5=!0,this.currSlide.isLoaded&&this._b5()},stopAutoPlay:function(){this._e5=this._f5=this._c5=this._a5=!1,this._d5()},_b5:function(){var a=this;a._f5||a._e5||(a._g5=!0,a._h5&&clearTimeout(a._h5),a._h5=setTimeout(function(){var b;a._z||a.st.loopRewind||(b=!0,a.st.loopRewind=!0),a.next(!0),b&&(a.st.loopRewind=!1)},a.currSlide.customDelay?a.currSlide.customDelay:a.st.autoPlay.delay))},_d5:function(){this._f5||this._e5||(this._g5=!1,this._h5&&(clearTimeout(this._h5),this._h5=null))}}),b.rsModules.autoplay=b.rsProto._x4}(jQuery),function(l){l.extend(l.rsProto,{_p4:function(){function m(){var g=a.currSlide;if(a.currSlide&&a.currSlide.isLoaded&&a._t4!==g){if(0<a._s4.length){for(b=0;b<a._s4.length;b++)clearTimeout(a._s4[b]);a._s4=[]}if(0<a._r4.length){var f;for(b=0;b<a._r4.length;b++)(f=a._r4[b])&&(a._e?(f.block.css(a._g+a._u1,"0s"),f.block.css(f.css)):f.block.stop(!0).css(f.css),a._t4=null,g.animBlocksDisplayed=!1);a._r4=[]}g.animBlocks&&(g.animBlocksDisplayed=!0,a._t4=g,a._u4(g.animBlocks))}}var b,a=this;a._q4={fadeEffect:!0,moveEffect:"top",moveOffset:20,speed:400,easing:"easeOutSine",delay:200},a.st.block=l.extend({},a._q4,a.st.block),a._r4=[],a._s4=[],a.ev.on("rsAfterInit",function(){m()}),a.ev.on("rsBeforeParseNode",function(a,b,d){b=l(b),d.animBlocks=b.find(".rsABlock").css("display","none"),d.animBlocks.length||(b.hasClass("rsABlock")?d.animBlocks=b.css("display","none"):d.animBlocks=!1)}),a.ev.on("rsAfterContentSet",function(b,f){f.id===a.slides[a.currSlideId].id&&setTimeout(function(){m()},a.st.fadeinLoadedSlide?300:0)}),a.ev.on("rsAfterSlideChange",function(){m()})},_v4:function(l,a){setTimeout(function(){l.css(a)},6)},_u4:function(m){var b,g,f,d,h,e,n,a=this;a._s4=[],m.each(function(m){b=l(this),g={},f={},d=null;var c=b.attr("data-move-offset"),c=c?parseInt(c,10):a.st.block.moveOffset;if(0<c&&((e=b.data("move-effect"))?(e=e.toLowerCase(),"none"===e?e=!1:"left"!==e&&"top"!==e&&"bottom"!==e&&"right"!==e&&(e=a.st.block.moveEffect,"none"===e&&(e=!1))):e=a.st.block.moveEffect,e&&"none"!==e)){var p;p="right"===e||"left"===e;var k;n=!1,a._e?(k=0,h=a._x1):(p?isNaN(parseInt(b.css("right"),10))?h="left":(h="right",n=!0):isNaN(parseInt(b.css("bottom"),10))?h="top":(h="bottom",n=!0),h="margin-"+h,n&&(c=-c),a._e?k=parseInt(b.css(h),10):(k=b.data("rs-start-move-prop"),void 0===k&&(k=parseInt(b.css(h),10),isNaN(k)&&(k=0),b.data("rs-start-move-prop",k)))),f[h]=a._m4("top"===e||"left"===e?k-c:k+c,p),g[h]=a._m4(k,p)}c=b.attr("data-fade-effect"),c?"none"!==c.toLowerCase()&&"false"!==c.toLowerCase()||(c=!1):c=a.st.block.fadeEffect,c&&(f.opacity=0,g.opacity=1),(c||e)&&(d={},d.hasFade=Boolean(c),Boolean(e)&&(d.moveProp=h,d.hasMove=!0),d.speed=b.data("speed"),isNaN(d.speed)&&(d.speed=a.st.block.speed),d.easing=b.data("easing"),d.easing||(d.easing=a.st.block.easing),d.css3Easing=l.rsCSS3Easing[d.easing],d.delay=b.data("delay"),isNaN(d.delay)&&(d.delay=a.st.block.delay*m)),c={},a._e&&(c[a._g+a._u1]="0ms"),c.moveProp=g.moveProp,c.opacity=g.opacity,c.display="none",a._r4.push({block:b,css:c}),a._v4(b,f),a._s4.push(setTimeout(function(b,d,c,e){return function(){if(b.css("display","block"),c){var g={};if(a._e){var f="";c.hasMove&&(f+=c.moveProp),c.hasFade&&(c.hasMove&&(f+=", "),f+="opacity"),g[a._g+a._t1]=f,g[a._g+a._u1]=c.speed+"ms",g[a._g+a._v1]=c.css3Easing,b.css(g),setTimeout(function(){b.css(d)},24)}else setTimeout(function(){b.animate(d,c.speed,c.easing)},16)}delete a._s4[e]}}(b,g,d,m),6>=d.delay?12:d.delay))})}}),l.rsModules.animatedBlocks=l.rsProto._p4}(jQuery),function(b){b.extend(b.rsProto,{_w4:function(){var a=this;if(a.st.autoHeight){var b,c,e,f=!0,d=function(_d){e=a.slides[a.currSlideId],(b=e.holder)&&(c=b.height())&&void 0!==c&&c>(a.st.minAutoHeight||30)&&(a._c4=c,a._e||!_d?a._e1.css("height",c):a._e1.stop(!0,!0).animate({height:c},a.st.transitionSpeed),a.ev.trigger("rsAutoHeightChange",c),f&&(a._e&&setTimeout(function(){a._e1.css(a._g+"transition","height "+a.st.transitionSpeed+"ms ease-in-out")},16),f=!1))};a.ev.on("rsMaybeSizeReady.rsAutoHeight",function(a,b){e===b&&d()}),a.ev.on("rsAfterContentSet.rsAutoHeight",function(a,b){e===b&&d()}),a.slider.addClass("rsAutoHeight"),a.ev.one("rsAfterInit",function(){setTimeout(function(){d(!1),setTimeout(function(){a.slider.append('<div style="clear:both; float: none;"></div>')},16)},16)}),a.ev.on("rsBeforeAnimStart",function(){d(!0)}),a.ev.on("rsBeforeSizeSet",function(){setTimeout(function(){d(!1)},16)})}}}),b.rsModules.autoHeight=b.rsProto._w4}(jQuery),function(b){b.extend(b.rsProto,{_d6:function(){var a=this;a.st.globalCaption&&(a.ev.on("rsAfterInit",function(){a.globalCaption=b('<div class="rsGCaption"></div>').appendTo(a.st.globalCaptionInside?a._e1:a.slider),a.globalCaption.html(a.currSlide.caption||"")}),a.ev.on("rsBeforeAnimStart",function(){a.globalCaption.html(a.currSlide.caption||"")}))}}),b.rsModules.globalCaption=b.rsProto._d6}(jQuery);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};!function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):factory("object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?require("jquery"):jQuery)}(function($){var version="2.1.1",optionOverrides={},defaults={exclude:[],excludeWithin:[],offset:0,direction:"top",delegateSelector:null,scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficient:2,preventDefault:!0},getScrollable=function(opts){var scrollable=[],scrolled=!1,dir=opts.dir&&"left"===opts.dir?"scrollLeft":"scrollTop";return this.each(function(){var el=$(this);if(this!==document&&this!==window)return!document.scrollingElement||this!==document.documentElement&&this!==document.body?void(el[dir]()>0?scrollable.push(this):(el[dir](1),scrolled=el[dir]()>0,scrolled&&scrollable.push(this),el[dir](0))):(scrollable.push(document.scrollingElement),!1)}),scrollable.length||this.each(function(){this===document.documentElement&&"smooth"===$(this).css("scrollBehavior")&&(scrollable=[this]),scrollable.length||"BODY"!==this.nodeName||(scrollable=[this])}),"first"===opts.el&&scrollable.length>1&&(scrollable=[scrollable[0]]),scrollable},rRelative=/^([\-\+]=)(\d+)/;$.fn.extend({scrollable:function(dir){var scrl=getScrollable.call(this,{dir:dir});return this.pushStack(scrl)},firstScrollable:function(dir){var scrl=getScrollable.call(this,{el:"first",dir:dir});return this.pushStack(scrl)},smoothScroll:function(options,extra){if(options=options||{},"options"===options)return extra?this.each(function(){var $this=$(this),opts=$.extend($this.data("ssOpts")||{},extra);$(this).data("ssOpts",opts)}):this.first().data("ssOpts");var opts=$.extend({},$.fn.smoothScroll.defaults,options),clickHandler=function(event){var escapeSelector=function(str){return str.replace(/(:|\.|\/)/g,"\\$1")},link=this,$link=$(this),thisOpts=$.extend({},opts,$link.data("ssOpts")||{}),exclude=opts.exclude,excludeWithin=thisOpts.excludeWithin,elCounter=0,ewlCounter=0,include=!0,clickOpts={},locationPath=$.smoothScroll.filterPath(location.pathname),linkPath=$.smoothScroll.filterPath(link.pathname),hostMatch=location.hostname===link.hostname||!link.hostname,pathMatch=thisOpts.scrollTarget||linkPath===locationPath,thisHash=escapeSelector(link.hash);if(thisHash&&!$(thisHash).length&&(include=!1),thisOpts.scrollTarget||hostMatch&&pathMatch&&thisHash){for(;include&&elCounter<exclude.length;)$link.is(escapeSelector(exclude[elCounter++]))&&(include=!1);for(;include&&ewlCounter<excludeWithin.length;)$link.closest(excludeWithin[ewlCounter++]).length&&(include=!1)}else include=!1;include&&(thisOpts.preventDefault&&event.preventDefault(),$.extend(clickOpts,thisOpts,{scrollTarget:thisOpts.scrollTarget||thisHash,link:link}),$.smoothScroll(clickOpts))};return null!==options.delegateSelector?this.off("click.smoothscroll",options.delegateSelector).on("click.smoothscroll",options.delegateSelector,clickHandler):this.off("click.smoothscroll").on("click.smoothscroll",clickHandler),this}});var getExplicitOffset=function(val){var explicit={relative:""},parts="string"==typeof val&&rRelative.exec(val);return"number"==typeof val?explicit.px=val:parts&&(explicit.relative=parts[1],explicit.px=parseFloat(parts[2])||0),explicit};$.smoothScroll=function(options,px){if("options"===options&&"object"===("undefined"==typeof px?"undefined":_typeof(px)))return $.extend(optionOverrides,px);var opts,$scroller,speed,delta,explicitOffset=getExplicitOffset(options),scrollTargetOffset={},scrollerOffset=0,offPos="offset",scrollDir="scrollTop",aniProps={},aniOpts={};console.log(explicitOffset),explicitOffset.px?opts=$.extend({link:null},$.fn.smoothScroll.defaults,optionOverrides):(opts=$.extend({link:null},$.fn.smoothScroll.defaults,options||{},optionOverrides),opts.scrollElement&&(offPos="position","static"===opts.scrollElement.css("position")&&opts.scrollElement.css("position","relative")),px&&(explicitOffset=getExplicitOffset(px))),scrollDir="left"===opts.direction?"scrollLeft":scrollDir,opts.scrollElement?($scroller=opts.scrollElement,explicitOffset.px||/^(?:HTML|BODY)$/.test($scroller[0].nodeName)||(scrollerOffset=$scroller[scrollDir]())):$scroller=$("html, body").firstScrollable(opts.direction),opts.beforeScroll.call($scroller,opts),scrollTargetOffset=explicitOffset.px?explicitOffset:{relative:"",px:$(opts.scrollTarget)[offPos]()&&$(opts.scrollTarget)[offPos]()[opts.direction]||0},aniProps[scrollDir]=scrollTargetOffset.relative+(scrollTargetOffset.px+scrollerOffset+opts.offset),speed=opts.speed,"auto"===speed&&(delta=Math.abs(aniProps[scrollDir]-$scroller[scrollDir]()),speed=delta/opts.autoCoefficient),aniOpts={duration:speed,easing:opts.easing,complete:function(){opts.afterScroll.call(opts.link,opts)}},opts.step&&(aniOpts.step=opts.step),$scroller.length?$scroller.stop().animate(aniProps,aniOpts):opts.afterScroll.call(opts.link,opts)},$.smoothScroll.version=version,$.smoothScroll.filterPath=function(string){return string=string||"",string.replace(/^\//,"").replace(/(?:index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},$.fn.smoothScroll.defaults=defaults});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};!function(window){var _mixitup=null,h=null;!function(){var VENDORS=["webkit","moz","o","ms"],canary=window.document.createElement("div"),i=-1;for(i=0;i<VENDORS.length&&!window.requestAnimationFrame;i++)window.requestAnimationFrame=window[VENDORS[i]+"RequestAnimationFrame"];"undefined"==typeof canary.nextElementSibling&&Object.defineProperty(window.Element.prototype,"nextElementSibling",{get:function(){for(var el=this.nextSibling;el;){if(1===el.nodeType)return el;el=el.nextSibling}return null}}),function(ElementPrototype){ElementPrototype.matches=ElementPrototype.matches||ElementPrototype.machesSelector||ElementPrototype.mozMatchesSelector||ElementPrototype.msMatchesSelector||ElementPrototype.oMatchesSelector||ElementPrototype.webkitMatchesSelector||function(selector){return Array.prototype.indexOf.call(this.parentElement.querySelectorAll(selector),this)>-1}}(window.Element.prototype),Object.keys||(Object.keys=function(){var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!1,dontEnums=[],dontEnumsLength=-1;return hasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length,function(obj){var result=[],prop="",i=-1;if("object"!==("undefined"==typeof obj?"undefined":_typeof(obj))&&("function"!=typeof obj||null===obj))throw new TypeError("Object.keys called on non-object");for(prop in obj)hasOwnProperty.call(obj,prop)&&result.push(prop);if(hasDontEnumBug)for(i=0;i<dontEnumsLength;i++)hasOwnProperty.call(obj,dontEnums[i])&&result.push(dontEnums[i]);return result}}()),Array.isArray||(Array.isArray=function(arg){return"[object Array]"===Object.prototype.toString.call(arg)}),"function"!=typeof Object.create&&(Object.create=function(undefined){var Temp=function(){};return function(prototype,propertiesObject){if(prototype!==Object(prototype)&&null!==prototype)throw TypeError("Argument must be an object, or null");Temp.prototype=prototype||{};var result=new Temp;return Temp.prototype=null,propertiesObject!==undefined&&Object.defineProperties(result,propertiesObject),null===prototype&&(result.__proto__=null),result}}()),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(searchElement){var n,k,t,len;if(null===this)throw new TypeError;if(t=Object(this),len=t.length>>>0,0===len)return-1;if(n=0,arguments.length>1&&(n=Number(arguments[1]),n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=len)return-1;for(k=n>=0?n:Math.max(len-Math.abs(n),0);k<len;k++)if(k in t&&t[k]===searchElement)return k;return-1}),Function.prototype.bind||(Function.prototype.bind=function(oThis){var aArgs,self,FNOP,fBound;if("function"!=typeof this)throw new TypeError;return aArgs=Array.prototype.slice.call(arguments,1),self=this,FNOP=function(){},fBound=function(){return self.apply(this instanceof FNOP?this:oThis,aArgs.concat(Array.prototype.slice.call(arguments)))},this.prototype&&(FNOP.prototype=this.prototype),fBound.prototype=new FNOP,fBound}),window.Element.prototype.dispatchEvent||(window.Element.prototype.dispatchEvent=function(event){try{return this.fireEvent("on"+event.type,event)}catch(err){}})}(),_mixitup=function(container,config,foreignDoc){var el=null,returnCollection=!1,instance=null,facade=null,doc=null,output=null,instances=[],id="",elements=[],i=-1;if(doc=foreignDoc||window.document,(returnCollection=arguments[3])&&(returnCollection="boolean"==typeof returnCollection),"string"==typeof container)elements=doc.querySelectorAll(container);else if(container&&"object"===("undefined"==typeof container?"undefined":_typeof(container))&&h.isElement(container,doc))elements=[container];else{if(!container||"object"!==("undefined"==typeof container?"undefined":_typeof(container))||!container.length)throw new Error(_mixitup.messages.errorFactoryInvalidContainer());elements=container}if(elements.length<1)throw new Error(_mixitup.messages.errorFactoryContainerNotFound());for(i=0;(el=elements[i])&&(!(i>0)||returnCollection);i++)el.id?id=el.id:(id="MixItUp"+h.randomHex(),el.id=id),_mixitup.instances[id]instanceof _mixitup.Mixer?(instance=_mixitup.instances[id],(!config||config&&config.debug&&config.debug.showWarnings!==!1)&&console.warn(_mixitup.messages.warningFactoryPreexistingInstance())):(instance=new _mixitup.Mixer,instance.attach(el,doc,id,config),_mixitup.instances[id]=instance),facade=new _mixitup.Facade(instance),config&&config.debug&&config.debug.enable?instances.push(instance):instances.push(facade);return output=returnCollection?new _mixitup.Collection(instances):instances[0]},_mixitup.use=function(extension){_mixitup.Base.prototype.callActions.call(_mixitup,"beforeUse",arguments),"function"==typeof extension&&"mixitup-extension"===extension.TYPE?"undefined"==typeof _mixitup.extensions[extension.NAME]&&(extension(_mixitup),_mixitup.extensions[extension.NAME]=extension):extension.fn&&extension.fn.jquery&&(_mixitup.libraries.$=extension),_mixitup.Base.prototype.callActions.call(_mixitup,"afterUse",arguments)},_mixitup.instances={},_mixitup.extensions={},_mixitup.libraries={},h={hasClass:function(el,cls){return!!el.className.match(new RegExp("(\\s|^)"+cls+"(\\s|$)"))},addClass:function(el,cls){this.hasClass(el,cls)||(el.className+=el.className?" "+cls:cls)},removeClass:function(el,cls){if(this.hasClass(el,cls)){var reg=new RegExp("(\\s|^)"+cls+"(\\s|$)");el.className=el.className.replace(reg," ").trim()}},extend:function(destination,source,deep,handleErrors){var sourceKeys=[],key="",i=-1;deep=deep||!1,handleErrors=handleErrors||!1;try{if(Array.isArray(source))for(i=0;i<source.length;i++)sourceKeys.push(i);else source&&(sourceKeys=Object.keys(source));for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],!deep||"object"!==_typeof(source[key])||this.isElement(source[key])?destination[key]=source[key]:Array.isArray(source[key])?(destination[key]||(destination[key]=[]),this.extend(destination[key],source[key],deep,handleErrors)):(destination[key]||(destination[key]={}),this.extend(destination[key],source[key],deep,handleErrors))}catch(err){if(!handleErrors)throw err;this.handleExtendError(err,destination)}return destination},handleExtendError:function(err,destination){var re=/property "?(\w*)"?[,:] object/i,matches=null,erroneous="",message="",suggestion="",probableMatch="",key="",mostMatchingChars=-1,i=-1;if(err instanceof TypeError&&(matches=re.exec(err.message))){erroneous=matches[1];for(key in destination){for(i=0;i<erroneous.length&&erroneous.charAt(i)===key.charAt(i);)i++;i>mostMatchingChars&&(mostMatchingChars=i,probableMatch=key)}throw mostMatchingChars>1&&(suggestion=_mixitup.messages.errorConfigInvalidPropertySuggestion({probableMatch:probableMatch})),message=_mixitup.messages.errorConfigInvalidProperty({erroneous:erroneous,suggestion:suggestion}),new TypeError(message)}throw err},template:function(str){for(var re=/\${([\w]*)}/g,dynamics={},matches=null;matches=re.exec(str);)dynamics[matches[1]]=new RegExp("\\${"+matches[1]+"}","g");return function(data){var key="",output=str;data=data||{};for(key in dynamics)output=output.replace(dynamics[key],"undefined"!=typeof data[key]?data[key]:"");return output}},on:function(el,type,fn,useCapture){el&&(el.addEventListener?el.addEventListener(type,fn,useCapture):el.attachEvent&&(el["e"+type+fn]=fn,el[type+fn]=function(){el["e"+type+fn](window.event)},el.attachEvent("on"+type,el[type+fn])))},off:function(el,type,fn){el&&(el.removeEventListener?el.removeEventListener(type,fn,!1):el.detachEvent&&(el.detachEvent("on"+type,el[type+fn]),el[type+fn]=null))},getCustomEvent:function(eventType,detail,doc){var event=null;return doc=doc||window.document,"function"==typeof window.CustomEvent?event=new window.CustomEvent(eventType,{detail:detail,bubbles:!0,cancelable:!0}):"function"==typeof doc.createEvent?(event=doc.createEvent("CustomEvent"),event.initCustomEvent(eventType,!0,!0,detail)):(event=doc.createEventObject(),event.type=eventType,event.returnValue=!1,event.cancelBubble=!1,event.detail=detail),event},getOriginalEvent:function(e){return e.touches&&e.touches.length?e.touches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e},index:function(el,selector){for(var i=0;null!==(el=el.previousElementSibling);)selector&&!el.matches(selector)||++i;return i},camelCase:function(str){return str.toLowerCase().replace(/([_-][a-z])/g,function($1){return $1.toUpperCase().replace(/[_-]/,"")})},pascalCase:function(str){return(str=this.camelCase(str)).charAt(0).toUpperCase()+str.slice(1)},dashCase:function(str){return str.replace(/([A-Z])/g,"-$1").replace(/^-/,"").toLowerCase()},isElement:function(el,doc){return doc=doc||window.document,!!(window.HTMLElement&&el instanceof window.HTMLElement)||(!!(doc.defaultView&&doc.defaultView.HTMLElement&&el instanceof doc.defaultView.HTMLElement)||null!==el&&1===el.nodeType&&"string"==typeof el.nodeName)},createElement:function(htmlString,doc){var frag=null,temp=null;for(doc=doc||window.document,frag=doc.createDocumentFragment(),temp=doc.createElement("div"),temp.innerHTML=htmlString;temp.firstChild;)frag.appendChild(temp.firstChild);return frag},removeWhitespace:function(node){for(var deleting;node&&"#text"===node.nodeName;)deleting=node,node=node.previousSibling,deleting.parentElement&&deleting.parentElement.removeChild(deleting)},isEqualArray:function(a,b){var i=a.length;if(i!==b.length)return!1;for(;i--;)if(a[i]!==b[i])return!1;return!0},deepEquals:function(a,b){
var key;if("object"===("undefined"==typeof a?"undefined":_typeof(a))&&a&&"object"===("undefined"==typeof b?"undefined":_typeof(b))&&b){if(Object.keys(a).length!==Object.keys(b).length)return!1;for(key in a)if(!b.hasOwnProperty(key)||!this.deepEquals(a[key],b[key]))return!1}else if(a!==b)return!1;return!0},arrayShuffle:function(oldArray){for(var newArray=oldArray.slice(),len=newArray.length,i=len,p=-1,t=[];i--;)p=~~(Math.random()*len),t=newArray[i],newArray[i]=newArray[p],newArray[p]=t;return newArray},arrayFromList:function(list){var output,i;try{return Array.prototype.slice.call(list)}catch(err){for(output=[],i=0;i<list.length;i++)output.push(list[i]);return output}},debounce:function(func,wait,immediate){var timeout;return function(){var self=this,args=arguments,callNow=immediate&&!timeout,later=null;later=function(){timeout=null,immediate||func.apply(self,args)},clearTimeout(timeout),timeout=setTimeout(later,wait),callNow&&func.apply(self,args)}},position:function(element){for(var xPosition=0,yPosition=0,offsetParent=element;element;)xPosition-=element.scrollLeft,yPosition-=element.scrollTop,element===offsetParent&&(xPosition+=element.offsetLeft,yPosition+=element.offsetTop,offsetParent=element.offsetParent),element=element.parentElement;return{x:xPosition,y:yPosition}},getHypotenuse:function(node1,node2){var distanceX=node1.x-node2.x,distanceY=node1.y-node2.y;return distanceX=distanceX<0?distanceX*-1:distanceX,distanceY=distanceY<0?distanceY*-1:distanceY,Math.sqrt(Math.pow(distanceX,2)+Math.pow(distanceY,2))},getIntersectionRatio:function(box1,box2){var controlArea=box1.width*box1.height,intersectionX=-1,intersectionY=-1,intersectionArea=-1,ratio=-1;return intersectionX=Math.max(0,Math.min(box1.left+box1.width,box2.left+box2.width)-Math.max(box1.left,box2.left)),intersectionY=Math.max(0,Math.min(box1.top+box1.height,box2.top+box2.height)-Math.max(box1.top,box2.top)),intersectionArea=intersectionY*intersectionX,ratio=intersectionArea/controlArea},closestParent:function(el,selector,includeSelf,doc){var parent=el.parentNode;if(doc=doc||window.document,includeSelf&&el.matches(selector))return el;for(;parent&&parent!=doc.body;){if(parent.matches&&parent.matches(selector))return parent;if(!parent.parentNode)return null;parent=parent.parentNode}return null},children:function children(el,selector,doc){var children=[],tempId="";return doc=doc||window.doc,el&&(el.id||(tempId="Temp"+this.randomHexKey(),el.id=tempId),children=doc.querySelectorAll("#"+el.id+" > "+selector),tempId&&el.removeAttribute("id")),children},clean:function(originalArray){var cleanArray=[],i=-1;for(i=0;i<originalArray.length;i++)""!==originalArray[i]&&cleanArray.push(originalArray[i]);return cleanArray},defer:function(libraries){var deferred=null,promiseWrapper=null,$=null;return promiseWrapper=new this.Deferred,_mixitup.features.has.promises?promiseWrapper.promise=new Promise(function(resolve,reject){promiseWrapper.resolve=resolve,promiseWrapper.reject=reject}):($=window.jQuery||libraries.$)&&"function"==typeof $.Deferred?(deferred=$.Deferred(),promiseWrapper.promise=deferred.promise(),promiseWrapper.resolve=deferred.resolve,promiseWrapper.reject=deferred.reject):window.console&&console.warn(_mixitup.messages.warningNoPromiseImplementation()),promiseWrapper},all:function(tasks,libraries){var $=null;return _mixitup.features.has.promises?Promise.all(tasks):($=window.jQuery||libraries.$)&&"function"==typeof $.when?$.when.apply($,tasks).done(function(){return arguments}):(window.console&&console.warn(_mixitup.messages.warningNoPromiseImplementation()),[])},getPrefix:function(el,property,vendors){var i=-1,prefix="";if(h.dashCase(property)in el.style)return"";for(i=0;prefix=vendors[i];i++)if(prefix+property in el.style)return prefix.toLowerCase();return"unsupported"},randomHex:function(){return("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6).toUpperCase()},getDocumentState:function(doc){return doc="object"===_typeof(doc.body)?doc:window.document,{scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,docHeight:doc.documentElement.scrollHeight,docWidth:doc.documentElement.scrollWidth,viewportHeight:doc.documentElement.clientHeight,viewportWidth:doc.documentElement.clientWidth}},bind:function(obj,fn){return function(){return fn.apply(obj,arguments)}},isVisible:function(el){var styles=null;return!!el.offsetParent||(styles=window.getComputedStyle(el),"fixed"===styles.position&&"hidden"!==styles.visibility&&"0"!==styles.opacity)},seal:function(obj){"function"==typeof Object.seal&&Object.seal(obj)},freeze:function(obj){"function"==typeof Object.freeze&&Object.freeze(obj)},compareVersions:function(control,specimen){var controlParts=control.split("."),specimenParts=specimen.split("."),controlPart=-1,specimenPart=-1,i=-1;for(i=0;i<controlParts.length;i++){if(controlPart=parseInt(controlParts[i].replace(/[^\d.]/g,"")),specimenPart=parseInt(specimenParts[i].replace(/[^\d.]/g,"")||0),specimenPart<controlPart)return!1;if(specimenPart>controlPart)return!0}return!0},Deferred:function(){this.promise=null,this.resolve=null,this.reject=null,this.id=h.randomHex()},isEmptyObject:function(obj){var key="";if("function"==typeof Object.keys)return 0===Object.keys(obj).length;for(key in obj)if(obj.hasOwnProperty(key))return!1;return!0},getClassname:function(classNames,elementName,modifier){var classname="";return classname+=classNames.block,classname.length&&(classname+=classNames.delineatorElement),classname+=classNames["element"+this.pascalCase(elementName)],modifier?(classname.length&&(classname+=classNames.delineatorModifier),classname+=modifier):classname},getProperty:function(obj,stringKey){var parts=stringKey.split("."),returnCurrent=null,current="",i=0;if(!stringKey)return obj;for(returnCurrent=function(obj){return obj?obj[current]:null};i<parts.length;)current=parts[i],obj=returnCurrent(obj),i++;return"undefined"!=typeof obj?obj:null}},_mixitup.h=h,_mixitup.Base=function(){},_mixitup.Base.prototype={constructor:_mixitup.Base,callActions:function(actionName,args){var self=this,hooks=self.constructor.actions[actionName],extensionName="";if(hooks&&!h.isEmptyObject(hooks))for(extensionName in hooks)hooks[extensionName].apply(self,args)},callFilters:function(filterName,input,args){var self=this,hooks=self.constructor.filters[filterName],output=input,extensionName="";if(!hooks||h.isEmptyObject(hooks))return output;args=args||[];for(extensionName in hooks)args=h.arrayFromList(args),args.unshift(output),output=hooks[extensionName].apply(self,args);return output}},_mixitup.BaseStatic=function(){this.actions={},this.filters={},this.extend=function(extension){h.extend(this.prototype,extension)},this.registerAction=function(hookName,extensionName,func){(this.actions[hookName]=this.actions[hookName]||{})[extensionName]=func},this.registerFilter=function(hookName,extensionName,func){(this.filters[hookName]=this.filters[hookName]||{})[extensionName]=func}},_mixitup.Features=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.boxSizingPrefix="",this.transformPrefix="",this.transitionPrefix="",this.boxSizingPrefix="",this.transformProp="",this.transformRule="",this.transitionProp="",this.perspectiveProp="",this.perspectiveOriginProp="",this.has=new _mixitup.Has,this.canary=null,this.BOX_SIZING_PROP="boxSizing",this.TRANSITION_PROP="transition",this.TRANSFORM_PROP="transform",this.PERSPECTIVE_PROP="perspective",this.PERSPECTIVE_ORIGIN_PROP="perspectiveOrigin",this.VENDORS=["Webkit","moz","O","ms"],this.TWEENABLE=["opacity","width","height","marginRight","marginBottom","x","y","scale","translateX","translateY","translateZ","rotateX","rotateY","rotateZ"],this.callActions("afterConstruct")},_mixitup.BaseStatic.call(_mixitup.Features),_mixitup.Features.prototype=Object.create(_mixitup.Base.prototype),h.extend(_mixitup.Features.prototype,{constructor:_mixitup.Features,init:function(){var self=this;self.callActions("beforeInit",arguments),self.canary=document.createElement("div"),self.setPrefixes(),self.runTests(),self.callActions("beforeInit",arguments)},runTests:function(){var self=this;self.callActions("beforeRunTests",arguments),self.has.promises="function"==typeof window.Promise,self.has.transitions="unsupported"!==self.transitionPrefix,self.callActions("afterRunTests",arguments),h.freeze(self.has)},setPrefixes:function(){var self=this;self.callActions("beforeSetPrefixes",arguments),self.transitionPrefix=h.getPrefix(self.canary,"Transition",self.VENDORS),self.transformPrefix=h.getPrefix(self.canary,"Transform",self.VENDORS),self.boxSizingPrefix=h.getPrefix(self.canary,"BoxSizing",self.VENDORS),self.boxSizingProp=self.boxSizingPrefix?self.boxSizingPrefix+h.pascalCase(self.BOX_SIZING_PROP):self.BOX_SIZING_PROP,self.transitionProp=self.transitionPrefix?self.transitionPrefix+h.pascalCase(self.TRANSITION_PROP):self.TRANSITION_PROP,self.transformProp=self.transformPrefix?self.transformPrefix+h.pascalCase(self.TRANSFORM_PROP):self.TRANSFORM_PROP,self.transformRule=self.transformPrefix?"-"+self.transformPrefix+"-"+self.TRANSFORM_PROP:self.TRANSFORM_PROP,self.perspectiveProp=self.transformPrefix?self.transformPrefix+h.pascalCase(self.PERSPECTIVE_PROP):self.PERSPECTIVE_PROP,self.perspectiveOriginProp=self.transformPrefix?self.transformPrefix+h.pascalCase(self.PERSPECTIVE_ORIGIN_PROP):self.PERSPECTIVE_ORIGIN_PROP,self.callActions("afterSetPrefixes",arguments)}}),_mixitup.Has=function(){this.transitions=!1,this.promises=!1,h.seal(this)},_mixitup.features=new _mixitup.Features,_mixitup.features.init(),_mixitup.ConfigAnimation=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.enable=!0,this.effects="fade scale",this.effectsIn="",this.effectsOut="",this.duration=600,this.easing="ease",this.applyPerspective=!0,this.perspectiveDistance="3000px",this.perspectiveOrigin="50% 50%",this.queue=!0,this.queueLimit=3,this.animateResizeContainer=!0,this.animateResizeTargets=!1,this.staggerSequence=null,this.reverseOut=!1,this.nudge=!0,this.clampHeight=!0,this.clampWidth=!0,this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.ConfigAnimation),_mixitup.ConfigAnimation.prototype=Object.create(_mixitup.Base.prototype),_mixitup.ConfigAnimation.prototype.constructor=_mixitup.ConfigAnimation,_mixitup.ConfigBehavior=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.liveSort=!1,this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.ConfigBehavior),_mixitup.ConfigBehavior.prototype=Object.create(_mixitup.Base.prototype),_mixitup.ConfigBehavior.prototype.constructor=_mixitup.ConfigBehavior,_mixitup.ConfigCallbacks=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.onMixStart=null,this.onMixBusy=null,this.onMixEnd=null,this.onMixFail=null,this.onMixClick=null,this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.ConfigCallbacks),_mixitup.ConfigCallbacks.prototype=Object.create(_mixitup.Base.prototype),_mixitup.ConfigCallbacks.prototype.constructor=_mixitup.ConfigCallbacks,_mixitup.ConfigControls=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.enable=!0,this.live=!1,this.scope="global",this.toggleLogic="or",this.toggleDefault="all",this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.ConfigControls),_mixitup.ConfigControls.prototype=Object.create(_mixitup.Base.prototype),_mixitup.ConfigControls.prototype.constructor=_mixitup.ConfigControls,_mixitup.ConfigClassNames=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.block="mixitup",this.elementContainer="container",this.elementFilter="control",this.elementSort="control",this.elementMultimix="control",this.elementToggle="control",this.modifierActive="active",this.modifierDisabled="disabled",this.modifierFailed="failed",this.delineatorElement="-",this.delineatorModifier="-",this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.ConfigClassNames),_mixitup.ConfigClassNames.prototype=Object.create(_mixitup.Base.prototype),_mixitup.ConfigClassNames.prototype.constructor=_mixitup.ConfigClassNames,_mixitup.ConfigData=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.uidKey="",this.dirtyCheck=!1,this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.ConfigData),_mixitup.ConfigData.prototype=Object.create(_mixitup.Base.prototype),_mixitup.ConfigData.prototype.constructor=_mixitup.ConfigData,_mixitup.ConfigDebug=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.enable=!1,this.showWarnings=!0,this.fauxAsync=!1,this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.ConfigDebug),_mixitup.ConfigDebug.prototype=Object.create(_mixitup.Base.prototype),_mixitup.ConfigDebug.prototype.constructor=_mixitup.ConfigDebug,_mixitup.ConfigLayout=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.allowNestedTargets=!0,this.containerClassName="",this.siblingBefore=null,this.siblingAfter=null,this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.ConfigLayout),_mixitup.ConfigLayout.prototype=Object.create(_mixitup.Base.prototype),_mixitup.ConfigLayout.prototype.constructor=_mixitup.ConfigLayout,_mixitup.ConfigLoad=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.filter="all",this.sort="default:asc",this.dataset=null,this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.ConfigLoad),_mixitup.ConfigLoad.prototype=Object.create(_mixitup.Base.prototype),_mixitup.ConfigLoad.prototype.constructor=_mixitup.ConfigLoad,_mixitup.ConfigSelectors=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.target=".mix",this.control="",this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.ConfigSelectors),_mixitup.ConfigSelectors.prototype=Object.create(_mixitup.Base.prototype),_mixitup.ConfigSelectors.prototype.constructor=_mixitup.ConfigSelectors,_mixitup.ConfigRender=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.target=null,this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.ConfigRender),_mixitup.ConfigRender.prototype=Object.create(_mixitup.Base.prototype),_mixitup.ConfigRender.prototype.constructor=_mixitup.ConfigRender,_mixitup.ConfigTemplates=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.ConfigTemplates),_mixitup.ConfigTemplates.prototype=Object.create(_mixitup.Base.prototype),_mixitup.ConfigTemplates.prototype.constructor=_mixitup.ConfigTemplates,_mixitup.Config=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.animation=new _mixitup.ConfigAnimation,this.behavior=new _mixitup.ConfigBehavior,this.callbacks=new _mixitup.ConfigCallbacks,this.controls=new _mixitup.ConfigControls,this.classNames=new _mixitup.ConfigClassNames,this.data=new _mixitup.ConfigData,this.debug=new _mixitup.ConfigDebug,this.layout=new _mixitup.ConfigLayout,this.load=new _mixitup.ConfigLoad,this.selectors=new _mixitup.ConfigSelectors,this.render=new _mixitup.ConfigRender,this.templates=new _mixitup.ConfigTemplates,this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.Config),_mixitup.Config.prototype=Object.create(_mixitup.Base.prototype),_mixitup.Config.prototype.constructor=_mixitup.Config,_mixitup.MixerDom=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.document=null,this.body=null,this.container=null,this.parent=null,this.targets=[],this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.MixerDom),_mixitup.MixerDom.prototype=Object.create(_mixitup.Base.prototype),_mixitup.MixerDom.prototype.constructor=_mixitup.MixerDom,_mixitup.UiClassNames=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.base="",this.active="",this.disabled="",this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.UiClassNames),_mixitup.UiClassNames.prototype=Object.create(_mixitup.Base.prototype),_mixitup.UiClassNames.prototype.constructor=_mixitup.UiClassNames,_mixitup.CommandDataset=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.dataset=null,this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.CommandDataset),_mixitup.CommandDataset.prototype=Object.create(_mixitup.Base.prototype),_mixitup.CommandDataset.prototype.constructor=_mixitup.CommandDataset,_mixitup.CommandMultimix=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.filter=null,this.sort=null,this.insert=null,this.remove=null,this.changeLayout=null,this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.CommandMultimix),_mixitup.CommandMultimix.prototype=Object.create(_mixitup.Base.prototype),_mixitup.CommandMultimix.prototype.constructor=_mixitup.CommandMultimix,_mixitup.CommandFilter=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.selector="",this.collection=null,this.action="show",this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.CommandFilter),_mixitup.CommandFilter.prototype=Object.create(_mixitup.Base.prototype),_mixitup.CommandFilter.prototype.constructor=_mixitup.CommandFilter,_mixitup.CommandSort=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.sortString="",this.attribute="",this.order="asc",this.collection=null,this.next=null,this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.CommandSort),_mixitup.CommandSort.prototype=Object.create(_mixitup.Base.prototype),_mixitup.CommandSort.prototype.constructor=_mixitup.CommandSort,_mixitup.CommandInsert=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.index=0,this.collection=[],this.position="before",this.sibling=null,this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.CommandInsert),_mixitup.CommandInsert.prototype=Object.create(_mixitup.Base.prototype),_mixitup.CommandInsert.prototype.constructor=_mixitup.CommandInsert,_mixitup.CommandRemove=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.targets=[],this.collection=[],this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.CommandRemove),_mixitup.CommandRemove.prototype=Object.create(_mixitup.Base.prototype),_mixitup.CommandRemove.prototype.constructor=_mixitup.CommandRemove,_mixitup.CommandChangeLayout=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.containerClassName="",this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.CommandChangeLayout),_mixitup.CommandChangeLayout.prototype=Object.create(_mixitup.Base.prototype),_mixitup.CommandChangeLayout.prototype.constructor=_mixitup.CommandChangeLayout,_mixitup.ControlDefinition=function(type,selector,live,parent){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.type=type,this.selector=selector,this.live=live||!1,this.parent=parent||"",this.callActions("afterConstruct"),h.freeze(this),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.ControlDefinition),_mixitup.ControlDefinition.prototype=Object.create(_mixitup.Base.prototype),_mixitup.ControlDefinition.prototype.constructor=_mixitup.ControlDefinition,_mixitup.controlDefinitions=[],_mixitup.controlDefinitions.push(new _mixitup.ControlDefinition("multimix","[data-filter][data-sort]")),_mixitup.controlDefinitions.push(new _mixitup.ControlDefinition("filter","[data-filter]")),_mixitup.controlDefinitions.push(new _mixitup.ControlDefinition("sort","[data-sort]")),_mixitup.controlDefinitions.push(new _mixitup.ControlDefinition("toggle","[data-toggle]")),_mixitup.Control=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.el=null,this.selector="",this.bound=[],this.pending=-1,this.type="",this.status="inactive",this.filter="",this.sort="",this.canDisable=!1,this.handler=null,this.classNames=new _mixitup.UiClassNames,this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.Control),_mixitup.Control.prototype=Object.create(_mixitup.Base.prototype),h.extend(_mixitup.Control.prototype,{constructor:_mixitup.Control,init:function(el,type,selector){var self=this;if(this.callActions("beforeInit",arguments),self.el=el,self.type=type,self.selector=selector,self.selector)self.status="live";else switch(self.canDisable="boolean"==typeof self.el.disable,self.type){case"filter":self.filter=self.el.getAttribute("data-filter");break;case"toggle":self.filter=self.el.getAttribute("data-toggle");break;case"sort":self.sort=self.el.getAttribute("data-sort");break;case"multimix":self.filter=self.el.getAttribute("data-filter"),self.sort=self.el.getAttribute("data-sort")}self.bindClick(),_mixitup.controls.push(self),this.callActions("afterInit",arguments)},isBound:function isBound(mixer){var self=this,isBound=!1;return this.callActions("beforeIsBound",arguments),isBound=self.bound.indexOf(mixer)>-1,self.callFilters("afterIsBound",isBound,arguments)},addBinding:function(mixer){var self=this;this.callActions("beforeAddBinding",arguments),self.isBound()||self.bound.push(mixer),this.callActions("afterAddBinding",arguments)},removeBinding:function(mixer){var self=this,removeIndex=-1;this.callActions("beforeRemoveBinding",arguments),(removeIndex=self.bound.indexOf(mixer))>-1&&self.bound.splice(removeIndex,1),self.bound.length<1&&(self.unbindClick(),removeIndex=_mixitup.controls.indexOf(self),_mixitup.controls.splice(removeIndex,1),"active"===self.status&&self.renderStatus(self.el,"inactive")),this.callActions("afterRemoveBinding",arguments)},bindClick:function(){var self=this;this.callActions("beforeBindClick",arguments),self.handler=function(e){self.handleClick(e)},h.on(self.el,"click",self.handler),this.callActions("afterBindClick",arguments)},unbindClick:function(){var self=this;this.callActions("beforeUnbindClick",arguments),h.off(self.el,"click",self.handler),self.handler=null,this.callActions("afterUnbindClick",arguments)},handleClick:function(e){var self=this,button=null,mixer=null,isActive=!1,returnValue=void 0,command={},clone=null,commands=[],i=-1;if(this.callActions("beforeHandleClick",arguments),this.pending=0,mixer=self.bound[0],button=self.selector?h.closestParent(e.target,mixer.config.selectors.control+self.selector,!0,mixer.dom.document):self.el,!button)return void self.callActions("afterHandleClick",arguments);switch(self.type){case"filter":command.filter=self.filter||button.getAttribute("data-filter");break;case"sort":command.sort=self.sort||button.getAttribute("data-sort");break;case"multimix":command.filter=self.filter||button.getAttribute("data-filter"),command.sort=self.sort||button.getAttribute("data-sort");break;case"toggle":command.filter=self.filter||button.getAttribute("data-toggle"),isActive="live"===self.status?h.hasClass(button,self.classNames.active):"active"===self.status}for(i=0;i<self.bound.length;i++)clone=new _mixitup.CommandMultimix,h.extend(clone,command),commands.push(clone);for(commands=self.callFilters("commandsHandleClick",commands,arguments),self.pending=self.bound.length,i=0;mixer=self.bound[i];i++)command=commands[i],command&&(mixer.lastClicked||(mixer.lastClicked=button),_mixitup.events.fire("mixClick",mixer.dom.container,{state:mixer.state,instance:mixer,originalEvent:e,control:mixer.lastClicked},mixer.dom.document),"function"==typeof mixer.config.callbacks.onMixClick&&(returnValue=mixer.config.callbacks.onMixClick.call(mixer.lastClicked,mixer.state,e,mixer),returnValue===!1)||("toggle"===self.type?isActive?mixer.toggleOff(command.filter):mixer.toggleOn(command.filter):mixer.multimix(command)));this.callActions("afterHandleClick",arguments)},update:function(command,toggleArray){var self=this,actions=new _mixitup.CommandMultimix;self.callActions("beforeUpdate",arguments),self.pending--,self.pending=Math.max(0,self.pending),self.pending>0||("live"===self.status?self.updateLive(command,toggleArray):(actions.sort=self.sort,actions.filter=self.filter,self.callFilters("actionsUpdate",actions,arguments),self.parseStatusChange(self.el,command,actions,toggleArray)),self.callActions("afterUpdate",arguments))},updateLive:function(command,toggleArray){var self=this,controlButtons=null,actions=null,button=null,i=-1;if(self.callActions("beforeUpdateLive",arguments),self.el){for(controlButtons=self.el.querySelectorAll(self.selector),i=0;button=controlButtons[i];i++){switch(actions=new _mixitup.CommandMultimix,self.type){case"filter":actions.filter=button.getAttribute("data-filter");break;case"sort":actions.sort=button.getAttribute("data-sort");break;case"multimix":actions.filter=button.getAttribute("data-filter"),actions.sort=button.getAttribute("data-sort");break;case"toggle":actions.filter=button.getAttribute("data-toggle")}actions=self.callFilters("actionsUpdateLive",actions,arguments),self.parseStatusChange(button,command,actions,toggleArray)}self.callActions("afterUpdateLive",arguments)}},parseStatusChange:function(button,command,actions,toggleArray){var self=this,alias="",toggle="",i=-1;switch(self.callActions("beforeParseStatusChange",arguments),self.type){case"filter":command.filter===actions.filter?self.renderStatus(button,"active"):self.renderStatus(button,"inactive");break;case"multimix":command.sort===actions.sort&&command.filter===actions.filter?self.renderStatus(button,"active"):self.renderStatus(button,"inactive");break;case"sort":command.sort.match(/:asc/g)&&(alias=command.sort.replace(/:asc/g,"")),command.sort===actions.sort||alias===actions.sort?self.renderStatus(button,"active"):self.renderStatus(button,"inactive");break;case"toggle":for(toggleArray.length<1&&self.renderStatus(button,"inactive"),command.filter===actions.filter&&self.renderStatus(button,"active"),i=0;i<toggleArray.length;i++){if(toggle=toggleArray[i],toggle===actions.filter){self.renderStatus(button,"active");break}self.renderStatus(button,"inactive")}}self.callActions("afterParseStatusChange",arguments)},renderStatus:function(button,status){var self=this;switch(self.callActions("beforeRenderStatus",arguments),status){case"active":h.addClass(button,self.classNames.active),h.removeClass(button,self.classNames.disabled),self.canDisable&&(self.el.disabled=!1);break;case"inactive":h.removeClass(button,self.classNames.active),h.removeClass(button,self.classNames.disabled),self.canDisable&&(self.el.disabled=!1);break;case"disabled":self.canDisable&&(self.el.disabled=!0),h.addClass(button,self.classNames.disabled),h.removeClass(button,self.classNames.active)}"live"!==self.status&&(self.status=status),self.callActions("afterRenderStatus",arguments)}}),_mixitup.controls=[],_mixitup.StyleData=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.x=0,this.y=0,this.top=0,this.right=0,this.bottom=0,this.left=0,this.width=0,this.height=0,this.marginRight=0,this.marginBottom=0,this.opacity=0,this.scale=new _mixitup.TransformData,this.translateX=new _mixitup.TransformData,this.translateY=new _mixitup.TransformData,this.translateZ=new _mixitup.TransformData,this.rotateX=new _mixitup.TransformData,this.rotateY=new _mixitup.TransformData,this.rotateZ=new _mixitup.TransformData,this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.StyleData),_mixitup.StyleData.prototype=Object.create(_mixitup.Base.prototype),_mixitup.StyleData.prototype.constructor=_mixitup.StyleData,_mixitup.TransformData=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.value=0,this.unit="",this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.TransformData),_mixitup.TransformData.prototype=Object.create(_mixitup.Base.prototype),_mixitup.TransformData.prototype.constructor=_mixitup.TransformData,_mixitup.TransformDefaults=function(){_mixitup.StyleData.apply(this),this.callActions("beforeConstruct"),this.scale.value=.01,this.scale.unit="",this.translateX.value=20,this.translateX.unit="px",this.translateY.value=20,this.translateY.unit="px",this.translateZ.value=20,this.translateZ.unit="px",this.rotateX.value=90,this.rotateX.unit="deg",this.rotateY.value=90,this.rotateY.unit="deg",this.rotateX.value=90,this.rotateX.unit="deg",this.rotateZ.value=180,this.rotateZ.unit="deg",this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.TransformDefaults),_mixitup.TransformDefaults.prototype=Object.create(_mixitup.StyleData.prototype),_mixitup.TransformDefaults.prototype.constructor=_mixitup.TransformDefaults,_mixitup.transformDefaults=new _mixitup.TransformDefaults,_mixitup.EventDetail=function(){this.state=null,this.futureState=null,this.instance=null,this.originalEvent=null},_mixitup.Events=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.mixStart=null,this.mixBusy=null,this.mixEnd=null,this.mixFail=null,this.mixClick=null,this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.Events),_mixitup.Events.prototype=Object.create(_mixitup.Base.prototype),_mixitup.Events.prototype.constructor=_mixitup.Events,_mixitup.Events.prototype.fire=function(eventType,el,detail,doc){var self=this,event=null,eventDetail=new _mixitup.EventDetail;if(self.callActions("beforeFire",arguments),"undefined"==typeof self[eventType])throw new Error('Event type "'+eventType+'" not found.');eventDetail.state=new _mixitup.State,h.extend(eventDetail.state,detail.state),detail.futureState&&(eventDetail.futureState=new _mixitup.State,h.extend(eventDetail.futureState,detail.futureState)),eventDetail.instance=detail.instance,detail.originalEvent&&(eventDetail.originalEvent=detail.originalEvent),event=h.getCustomEvent(eventType,eventDetail,doc),self.callFilters("eventFire",event,arguments),el.dispatchEvent(event)},_mixitup.events=new _mixitup.Events,_mixitup.QueueItem=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.args=[],this.instruction=null,this.triggerElement=null,this.deferred=null,this.isToggling=!1,this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.QueueItem),_mixitup.QueueItem.prototype=Object.create(_mixitup.Base.prototype),_mixitup.QueueItem.prototype.constructor=_mixitup.QueueItem,_mixitup.Mixer=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.config=new _mixitup.Config,this.id="",this.isBusy=!1,this.isToggling=!1,this.incPadding=!0,this.controls=[],this.targets=[],this.origOrder=[],this.cache={},this.toggleArray=[],this.targetsMoved=0,this.targetsImmovable=0,this.targetsBound=0,this.targetsDone=0,this.staggerDuration=0,this.effectsIn=null,this.effectsOut=null,this.transformIn=[],this.transformOut=[],this.queue=[],this.state=null,this.lastOperation=null,this.lastClicked=null,this.userCallback=null,this.userDeferred=null,this.dom=new _mixitup.MixerDom,this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.Mixer),_mixitup.Mixer.prototype=Object.create(_mixitup.Base.prototype),h.extend(_mixitup.Mixer.prototype,{constructor:_mixitup.Mixer,attach:function(container,document,id,config){var self=this,target=null,i=-1;for(self.callActions("beforeAttach",arguments),self.id=id,config&&h.extend(self.config,config,!0,!0),self.sanitizeConfig(),self.cacheDom(container,document),self.config.layout.containerClassName&&h.addClass(self.dom.container,self.config.layout.containerClassName),_mixitup.features.has.transitions||(self.config.animation.enable=!1),"undefined"==typeof window.console&&(self.config.debug.showWarnings=!1),self.config.data.uidKey&&(self.config.controls.enable=!1),self.indexTargets(),self.state=self.getInitialState(),i=0;target=self.lastOperation.toHide[i];i++)target.hide();self.config.controls.enable&&(self.initControls(),
self.updateControls({filter:self.state.activeFilter,sort:self.state.activeSort}),self.buildToggleArray(null,self.state)),self.parseEffects(),self.callActions("afterAttach",arguments)},sanitizeConfig:function(){var self=this;self.callActions("beforeSanitizeConfig",arguments),self.config.controls.scope=self.config.controls.scope.toLowerCase().trim(),self.config.controls.toggleLogic=self.config.controls.toggleLogic.toLowerCase().trim(),self.config.controls.toggleDefault=self.config.controls.toggleDefault.toLowerCase().trim(),self.config.animation.effects=self.config.animation.effects.trim(),self.callActions("afterSanitizeConfig",arguments)},getInitialState:function(){var self=this,state=new _mixitup.State,operation=new _mixitup.Operation;if(self.callActions("beforeGetInitialState",arguments),state.activeContainerClassName=self.config.layout.containerClassName,self.config.load.dataset){if(!self.config.data.uidKey||"string"!=typeof self.config.data.uidKey)throw new TypeError(_mixitup.messages.errorConfigDataUidKeyNotSet());operation.startDataset=operation.newDataset=state.activeDataset=self.config.load.dataset.slice(),operation.startContainerClassName=operation.newContainerClassName=state.activeContainerClassName,operation.show=self.targets.slice(),state=self.callFilters("stateGetInitialState",state,arguments)}else state.activeFilter=self.parseFilterArgs([self.config.load.filter]).command,state.activeSort=self.parseSortArgs([self.config.load.sort]).command,state.totalTargets=self.targets.length,state=self.callFilters("stateGetInitialState",state,arguments),state.activeSort.collection||state.activeSort.attribute||"random"===state.activeSort.order||"desc"===state.activeSort.order?(operation.newSort=state.activeSort,self.sortOperation(operation),self.printSort(!1,operation),self.targets=operation.newOrder):operation.startOrder=operation.newOrder=self.targets,operation.startFilter=operation.newFilter=state.activeFilter,operation.startSort=operation.newSort=state.activeSort,operation.startContainerClassName=operation.newContainerClassName=state.activeContainerClassName,"all"===operation.newFilter.selector?operation.newFilter.selector=self.config.selectors.target:"none"===operation.newFilter.selector&&(operation.newFilter.selector="");return operation=self.callFilters("operationGetInitialState",operation,[state]),self.lastOperation=operation,operation.newFilter&&self.filterOperation(operation),state=self.buildState(operation)},cacheDom:function(el,document){var self=this;self.callActions("beforeCacheDom",arguments),self.dom.document=document,self.dom.body=self.dom.document.querySelector("body"),self.dom.container=el,self.dom.parent=el,self.callActions("afterCacheDom",arguments)},indexTargets:function(){var self=this,target=null,el=null,dataset=null,i=-1;if(self.callActions("beforeIndexTargets",arguments),self.dom.targets=self.config.layout.allowNestedTargets?self.dom.container.querySelectorAll(self.config.selectors.target):h.children(self.dom.container,self.config.selectors.target,self.dom.document),self.dom.targets=h.arrayFromList(self.dom.targets),self.targets=[],(dataset=self.config.load.dataset)&&dataset.length!==self.dom.targets.length)throw new Error(_mixitup.messages.errorDatasetPrerenderedMismatch());if(self.dom.targets.length){for(i=0;el=self.dom.targets[i];i++)target=new _mixitup.Target,target.init(el,self,dataset?dataset[i]:void 0),target.isInDom=!0,self.targets.push(target);self.dom.parent=self.dom.targets[0].parentElement===self.dom.container?self.dom.container:self.dom.targets[0].parentElement}self.origOrder=self.targets,self.callActions("afterIndexTargets",arguments)},initControls:function(){var self=this,definition="",controlElements=null,el=null,parent=null,delagators=null,control=null,i=-1,j=-1;switch(self.callActions("beforeInitControls",arguments),self.config.controls.scope){case"local":parent=self.dom.container;break;case"global":parent=self.dom.document;break;default:throw new Error(_mixitup.messages.errorConfigInvalidControlsScope())}for(i=0;definition=_mixitup.controlDefinitions[i];i++)if(self.config.controls.live||definition.live){if(definition.parent){if(delagators=self.dom[definition.parent],!delagators||delagators.length<0)continue;"number"!=typeof delagators.length&&(delagators=[delagators])}else delagators=[parent];for(j=0;el=delagators[j];j++)control=self.getControl(el,definition.type,definition.selector),self.controls.push(control)}else for(controlElements=parent.querySelectorAll(self.config.selectors.control+definition.selector),j=0;el=controlElements[j];j++)control=self.getControl(el,definition.type,""),control&&self.controls.push(control);self.callActions("afterInitControls",arguments)},getControl:function(el,type,selector){var self=this,control=null,i=-1;if(self.callActions("beforeGetControl",arguments),!selector)for(i=0;control=_mixitup.controls[i];i++){if(control.el===el&&control.isBound(self))return self.callFilters("controlGetControl",null,arguments);if(control.el===el&&control.type===type&&control.selector===selector)return control.addBinding(self),self.callFilters("controlGetControl",control,arguments)}return control=new _mixitup.Control,control.init(el,type,selector),control.classNames.base=h.getClassname(self.config.classNames,type),control.classNames.active=h.getClassname(self.config.classNames,type,self.config.classNames.modifierActive),control.classNames.disabled=h.getClassname(self.config.classNames,type,self.config.classNames.modifierDisabled),control.addBinding(self),self.callFilters("controlGetControl",control,arguments)},getToggleSelector:function(){var self=this,delineator="or"===self.config.controls.toggleLogic?", ":"",toggleSelector="";return self.callActions("beforeGetToggleSelector",arguments),self.toggleArray=h.clean(self.toggleArray),toggleSelector=self.toggleArray.join(delineator),""===toggleSelector&&(toggleSelector=self.config.controls.toggleDefault),self.callFilters("selectorGetToggleSelector",toggleSelector,arguments)},buildToggleArray:function(command,state){var self=this,activeFilterSelector="";if(self.callActions("beforeBuildToggleArray",arguments),command&&command.filter)activeFilterSelector=command.filter.selector.replace(/\s/g,"");else{if(!state)return;activeFilterSelector=state.activeFilter.selector.replace(/\s/g,"")}activeFilterSelector!==self.config.selectors.target&&"all"!==activeFilterSelector||(activeFilterSelector=""),"or"===self.config.controls.toggleLogic?self.toggleArray=activeFilterSelector.split(","):self.toggleArray=self.splitCompoundSelector(activeFilterSelector),self.toggleArray=h.clean(self.toggleArray),self.callActions("afterBuildToggleArray",arguments)},splitCompoundSelector:function(compoundSelector){var partials=compoundSelector.split(/([\.\[])/g),toggleArray=[],selector="",i=-1;for(""===partials[0]&&partials.shift(),i=0;i<partials.length;i++)i%2===0&&(selector=""),selector+=partials[i],i%2!==0&&toggleArray.push(selector);return toggleArray},updateControls:function(command){var self=this,control=null,output=new _mixitup.CommandMultimix,i=-1;for(self.callActions("beforeUpdateControls",arguments),command.filter?output.filter=command.filter.selector:output.filter=self.state.activeFilter.selector,command.sort?output.sort=self.buildSortString(command.sort):output.sort=self.buildSortString(self.state.activeSort),output.filter===self.config.selectors.target&&(output.filter="all"),""===output.filter&&(output.filter="none"),h.freeze(output),i=0;control=self.controls[i];i++)control.update(output,self.toggleArray);self.callActions("afterUpdateControls",arguments)},buildSortString:function(command){var self=this,output="";return output+=command.sortString,command.next&&(output+=" "+self.buildSortString(command.next)),output},insertTargets:function(command,operation){var self=this,nextSibling=null,insertionIndex=-1,frag=null,target=null,el=null,i=-1;if(self.callActions("beforeInsertTargets",arguments),"undefined"==typeof command.index&&(command.index=0),nextSibling=self.getNextSibling(command.index,command.sibling,command.position),frag=self.dom.document.createDocumentFragment(),insertionIndex=nextSibling?h.index(nextSibling,self.config.selectors.target):self.targets.length,command.collection){for(i=0;el=command.collection[i];i++){if(self.dom.targets.indexOf(el)>-1)throw new Error(_mixitup.messages.errorInsertPreexistingElement());el.style.display="none",frag.appendChild(el),frag.appendChild(self.dom.document.createTextNode(" ")),h.isElement(el,self.dom.document)&&el.matches(self.config.selectors.target)&&(target=new _mixitup.Target,target.init(el,self),target.isInDom=!0,self.targets.splice(insertionIndex,0,target),insertionIndex++)}self.dom.parent.insertBefore(frag,nextSibling)}operation.startOrder=self.origOrder=self.targets,self.callActions("afterInsertTargets",arguments)},getNextSibling:function(index,sibling,position){var self=this,element=null;return index=Math.max(index,0),sibling&&"before"===position?element=sibling:sibling&&"after"===position?element=sibling.nextElementSibling||null:self.targets.length>0&&"undefined"!=typeof index?element=index<self.targets.length||!self.targets.length?self.targets[index].dom.el:self.targets[self.targets.length-1].dom.el.nextElementSibling:0===self.targets.length&&self.dom.parent.children.length>0&&(self.config.layout.siblingAfter?element=self.config.layout.siblingAfter:self.config.layout.siblingBefore?element=self.config.layout.siblingBefore.nextElementSibling:self.dom.parent.children[0]),self.callFilters("elementGetNextSibling",element,arguments)},filterOperation:function(operation){var self=this,testResult=!1,index=-1,action="",target=null,i=-1;for(self.callActions("beforeFilterOperation",arguments),action=operation.newFilter.action,i=0;target=operation.newOrder[i];i++)testResult=operation.newFilter.collection?operation.newFilter.collection.indexOf(target.dom.el)>-1:""!==operation.newFilter.selector&&target.dom.el.matches(operation.newFilter.selector),self.evaluateHideShow(testResult,target,action,operation);if(operation.toRemove.length)for(i=0;target=operation.show[i];i++)operation.toRemove.indexOf(target)>-1&&(operation.show.splice(i,1),(index=operation.toShow.indexOf(target))>-1&&operation.toShow.splice(index,1),operation.toHide.push(target),operation.hide.push(target),i--);operation.matching=operation.show.slice(),0===operation.show.length&&""!==operation.newFilter.selector&&0!==self.targets.length&&(operation.hasFailed=!0),self.callActions("afterFilterOperation",arguments)},evaluateHideShow:function(testResult,target,action,operation){var self=this;self.callActions("beforeEvaluateHideShow",arguments),testResult===!0&&"show"===action||testResult===!1&&"hide"===action?(operation.show.push(target),!target.isShown&&operation.toShow.push(target)):(operation.hide.push(target),target.isShown&&operation.toHide.push(target)),self.callActions("afterEvaluateHideShow",arguments)},sortOperation:function(operation){var self=this;self.callActions("beforeSortOperation",arguments),operation.startOrder=self.targets,operation.newSort.collection?operation.newOrder=operation.newSort.collection:"random"===operation.newSort.order?operation.newOrder=h.arrayShuffle(operation.startOrder):""===operation.newSort.attribute?(operation.newOrder=self.origOrder.slice(),"desc"===operation.newSort.order&&operation.newOrder.reverse()):(operation.newOrder=operation.startOrder.slice(),operation.newOrder.sort(function(a,b){return self.compare(a,b,operation.newSort)})),h.isEqualArray(operation.newOrder,operation.startOrder)&&(operation.willSort=!1),self.callActions("afterSortOperation",arguments)},compare:function(a,b,command){var self=this,order=command.order,attrA=self.getAttributeValue(a,command.attribute),attrB=self.getAttributeValue(b,command.attribute);return isNaN(1*attrA)||isNaN(1*attrB)?(attrA=attrA.toLowerCase(),attrB=attrB.toLowerCase()):(attrA=1*attrA,attrB=1*attrB),attrA<attrB?"asc"===order?-1:1:attrA>attrB?"asc"===order?1:-1:attrA===attrB&&command.next?self.compare(a,b,command.next):0},getAttributeValue:function(target,attribute){var self=this,value="";return value=target.dom.el.getAttribute("data-"+attribute),null===value&&self.config.debug.showWarnings&&console.warn(_mixitup.messages.warningInconsistentSortingAttributes({attribute:"data-"+attribute})),self.callFilters("valueGetAttributeValue",value||0,arguments)},printSort:function(isResetting,operation){var self=this,startOrder=isResetting?operation.newOrder:operation.startOrder,newOrder=isResetting?operation.startOrder:operation.newOrder,nextSibling=startOrder.length?startOrder[startOrder.length-1].dom.el.nextElementSibling:null,frag=window.document.createDocumentFragment(),whitespace=null,target=null,el=null,i=-1;for(self.callActions("beforePrintSort",arguments),i=0;target=startOrder[i];i++)el=target.dom.el,"absolute"!==el.style.position&&(h.removeWhitespace(el.previousSibling),el.parentElement.removeChild(el));for(whitespace=nextSibling?nextSibling.previousSibling:self.dom.parent.lastChild,whitespace&&"#text"===whitespace.nodeName&&h.removeWhitespace(whitespace),i=0;target=newOrder[i];i++)el=target.dom.el,h.isElement(frag.lastChild)&&frag.appendChild(window.document.createTextNode(" ")),frag.appendChild(el);self.dom.parent.firstChild&&self.dom.parent.firstChild!==nextSibling&&frag.insertBefore(window.document.createTextNode(" "),frag.childNodes[0]),nextSibling?(frag.appendChild(window.document.createTextNode(" ")),self.dom.parent.insertBefore(frag,nextSibling)):self.dom.parent.appendChild(frag),self.callActions("afterPrintSort",arguments)},parseSortString:function(sortString,command){var self=this,rules=sortString.split(" "),current=command,rule=[],i=-1;for(i=0;i<rules.length;i++){switch(rule=rules[i].split(":"),current.sortString=rules[i],current.attribute=h.dashCase(rule[0]),current.order=rule[1]||"asc",current.attribute){case"default":current.attribute="";break;case"random":current.attribute="",current.order="random"}if(!current.attribute||"random"===current.order)break;i<rules.length-1&&(current.next=new _mixitup.CommandSort,h.freeze(current),current=current.next)}return self.callFilters("commandsParseSort",command,arguments)},parseEffects:function(){var self=this,transformName="",effectsIn=self.config.animation.effectsIn||self.config.animation.effects,effectsOut=self.config.animation.effectsOut||self.config.animation.effects;self.callActions("beforeParseEffects",arguments),self.effectsIn=new _mixitup.StyleData,self.effectsOut=new _mixitup.StyleData,self.transformIn=[],self.transformOut=[],self.effectsIn.opacity=self.effectsOut.opacity=1,self.parseEffect("fade",effectsIn,self.effectsIn,self.transformIn),self.parseEffect("fade",effectsOut,self.effectsOut,self.transformOut,!0);for(transformName in _mixitup.transformDefaults)_mixitup.transformDefaults[transformName]instanceof _mixitup.TransformData&&(self.parseEffect(transformName,effectsIn,self.effectsIn,self.transformIn),self.parseEffect(transformName,effectsOut,self.effectsOut,self.transformOut,!0));self.parseEffect("stagger",effectsIn,self.effectsIn,self.transformIn),self.parseEffect("stagger",effectsOut,self.effectsOut,self.transformOut,!0),self.callActions("afterParseEffects",arguments)},parseEffect:function(effectName,effectString,effects,transform,isOut){var self=this,re=/\(([^)]+)\)/,propIndex=-1,str="",match=[],val="",units=["%","px","em","rem","vh","vw","deg"],unit="",i=-1;if(self.callActions("beforeParseEffect",arguments),"string"!=typeof effectString)throw new TypeError(_mixitup.messages.errorConfigInvalidAnimationEffects());if(effectString.indexOf(effectName)<0)return void("stagger"===effectName&&(self.staggerDuration=0));switch(propIndex=effectString.indexOf(effectName+"("),propIndex>-1&&(str=effectString.substring(propIndex),match=re.exec(str),val=match[1]),effectName){case"fade":effects.opacity=val?parseFloat(val):0;break;case"stagger":self.staggerDuration=val?parseFloat(val):100;break;default:if(isOut&&self.config.animation.reverseOut&&"scale"!==effectName?effects[effectName].value=(val?parseFloat(val):_mixitup.transformDefaults[effectName].value)*-1:effects[effectName].value=val?parseFloat(val):_mixitup.transformDefaults[effectName].value,val){for(i=0;unit=units[i];i++)if(val.indexOf(unit)>-1){effects[effectName].unit=unit;break}}else effects[effectName].unit=_mixitup.transformDefaults[effectName].unit;transform.push(effectName+"("+effects[effectName].value+effects[effectName].unit+")")}self.callActions("afterParseEffect",arguments)},buildState:function(operation){var self=this,state=new _mixitup.State,target=null,i=-1;for(self.callActions("beforeBuildState",arguments),i=0;target=self.targets[i];i++)(!operation.toRemove.length||operation.toRemove.indexOf(target)<0)&&state.targets.push(target.dom.el);for(i=0;target=operation.matching[i];i++)state.matching.push(target.dom.el);for(i=0;target=operation.show[i];i++)state.show.push(target.dom.el);for(i=0;target=operation.hide[i];i++)(!operation.toRemove.length||operation.toRemove.indexOf(target)<0)&&state.hide.push(target.dom.el);return state.id=self.id,state.container=self.dom.container,state.activeFilter=operation.newFilter,state.activeSort=operation.newSort,state.activeDataset=operation.newDataset,state.activeContainerClassName=operation.newContainerClassName,state.hasFailed=operation.hasFailed,state.totalTargets=self.targets.length,state.totalShow=operation.show.length,state.totalHide=operation.hide.length,state.totalMatching=operation.matching.length,state.triggerElement=operation.triggerElement,self.callFilters("stateBuildState",state,arguments)},goMix:function(shouldAnimate,operation){var self=this,deferred=null;return self.callActions("beforeGoMix",arguments),self.config.animation.duration&&self.config.animation.effects&&h.isVisible(self.dom.container)||(shouldAnimate=!1),operation.toShow.length||operation.toHide.length||operation.willSort||operation.willChangeLayout||(shouldAnimate=!1),operation.startState.show.length||operation.show.length||(shouldAnimate=!1),_mixitup.events.fire("mixStart",self.dom.container,{state:operation.startState,futureState:operation.newState,instance:self},self.dom.document),"function"==typeof self.config.callbacks.onMixStart&&self.config.callbacks.onMixStart.call(self.dom.container,operation.startState,operation.newState,self),h.removeClass(self.dom.container,h.getClassname(self.config.classNames,"container",self.config.classNames.modifierFailed)),deferred=self.userDeferred?self.userDeferred:self.userDeferred=h.defer(_mixitup.libraries),self.isBusy=!0,shouldAnimate&&_mixitup.features.has.transitions?(window.pageYOffset!==operation.docState.scrollTop&&window.scrollTo(operation.docState.scrollLeft,operation.docState.scrollTop),self.config.animation.applyPerspective&&(self.dom.parent.style[_mixitup.features.perspectiveProp]=self.config.animation.perspectiveDistance,self.dom.parent.style[_mixitup.features.perspectiveOriginProp]=self.config.animation.perspectiveOrigin),self.config.animation.animateResizeContainer&&operation.startHeight!==operation.newHeight&&operation.viewportDeltaY!==operation.startHeight-operation.newHeight&&(self.dom.parent.style.height=operation.startHeight+"px"),self.config.animation.animateResizeContainer&&operation.startWidth!==operation.newWidth&&operation.viewportDeltaX!==operation.startWidth-operation.newWidth&&(self.dom.parent.style.width=operation.startWidth+"px"),operation.startHeight===operation.newHeight&&(self.dom.parent.style.height=operation.startHeight+"px"),operation.startWidth===operation.newWidth&&(self.dom.parent.style.width=operation.startWidth+"px"),operation.startHeight===operation.newHeight&&operation.startWidth===operation.newWidth&&(self.dom.parent.style.overflow="hidden"),requestAnimationFrame(function(){self.moveTargets(operation)}),self.callFilters("promiseGoMix",deferred.promise,arguments)):(self.config.debug.fauxAsync?setTimeout(function(){self.cleanUp(operation)},self.config.animation.duration):self.cleanUp(operation),self.callFilters("promiseGoMix",deferred.promise,arguments))},getStartMixData:function(operation){var self=this,parentStyle=window.getComputedStyle(self.dom.parent),parentRect=self.dom.parent.getBoundingClientRect(),target=null,data={},i=-1,boxSizing=parentStyle[_mixitup.features.boxSizingProp];for(self.incPadding="border-box"===boxSizing,self.callActions("beforeGetStartMixData",arguments),i=0;target=operation.show[i];i++)data=target.getPosData(),operation.showPosData[i]={startPosData:data};for(i=0;target=operation.toHide[i];i++)data=target.getPosData(),operation.toHidePosData[i]={startPosData:data};operation.startX=parentRect.left,operation.startY=parentRect.top,operation.startHeight=self.incPadding?parentRect.height:parentRect.height-parseFloat(parentStyle.paddingTop)-parseFloat(parentStyle.paddingBottom)-parseFloat(parentStyle.borderTop)-parseFloat(parentStyle.borderBottom),operation.startWidth=self.incPadding?parentRect.width:parentRect.width-parseFloat(parentStyle.paddingLeft)-parseFloat(parentStyle.paddingRight)-parseFloat(parentStyle.borderLeft)-parseFloat(parentStyle.borderRight),self.callActions("afterGetStartMixData",arguments)},setInter:function(operation){var self=this,target=null,i=-1;for(self.callActions("beforeSetInter",arguments),self.config.animation.clampHeight&&(self.dom.parent.style.height=operation.startHeight+"px",self.dom.parent.style.overflow="hidden"),self.config.animation.clampWidth&&(self.dom.parent.style.width=operation.startWidth+"px",self.dom.parent.style.overflow="hidden"),i=0;target=operation.toShow[i];i++)target.show();operation.willChangeLayout&&(h.removeClass(self.dom.container,operation.startContainerClassName),h.addClass(self.dom.container,operation.newContainerClassName)),self.callActions("afterSetInter",arguments)},getInterMixData:function(operation){var self=this,target=null,i=-1;for(self.callActions("beforeGetInterMixData",arguments),i=0;target=operation.show[i];i++)operation.showPosData[i].interPosData=target.getPosData();for(i=0;target=operation.toHide[i];i++)operation.toHidePosData[i].interPosData=target.getPosData();self.callActions("afterGetInterMixData",arguments)},setFinal:function(operation){var self=this,target=null,i=-1;for(self.callActions("beforeSetFinal",arguments),operation.willSort&&self.printSort(!1,operation),i=0;target=operation.toHide[i];i++)target.hide();self.callActions("afterSetFinal",arguments)},getFinalMixData:function(operation){var self=this,parentStyle=null,parentRect=null,target=null,i=-1;for(self.callActions("beforeGetFinalMixData",arguments),i=0;target=operation.show[i];i++)operation.showPosData[i].finalPosData=target.getPosData();for(i=0;target=operation.toHide[i];i++)operation.toHidePosData[i].finalPosData=target.getPosData();for((self.config.animation.clampHeight||self.config.animation.clampWidth)&&(self.dom.parent.style.height=self.dom.parent.style.width=self.dom.parent.style.overflow=""),self.incPadding||(parentStyle=window.getComputedStyle(self.dom.parent)),parentRect=self.dom.parent.getBoundingClientRect(),operation.newX=parentRect.left,operation.newY=parentRect.top,operation.newHeight=self.incPadding?parentRect.height:parentRect.height-parseFloat(parentStyle.paddingTop)-parseFloat(parentStyle.paddingBottom)-parseFloat(parentStyle.borderTop)-parseFloat(parentStyle.borderBottom),operation.newWidth=self.incPadding?parentRect.width:parentRect.width-parseFloat(parentStyle.paddingLeft)-parseFloat(parentStyle.paddingRight)-parseFloat(parentStyle.borderLeft)-parseFloat(parentStyle.borderRight),operation.viewportDeltaX=operation.docState.viewportWidth-this.dom.document.documentElement.clientWidth,operation.viewportDeltaY=operation.docState.viewportHeight-this.dom.document.documentElement.clientHeight,operation.willSort&&self.printSort(!0,operation),i=0;target=operation.toShow[i];i++)target.hide();for(i=0;target=operation.toHide[i];i++)target.show();operation.willChangeLayout&&(h.removeClass(self.dom.container,operation.newContainerClassName),h.addClass(self.dom.container,self.config.layout.containerClassName)),self.callActions("afterGetFinalMixData",arguments)},getTweenData:function(operation){var self=this,target=null,posData=null,effectNames=Object.getOwnPropertyNames(self.effectsIn),effectName="",effect=null,widthChange=-1,heightChange=-1,i=-1,j=-1;for(self.callActions("beforeGetTweenData",arguments),i=0;target=operation.show[i];i++)for(posData=operation.showPosData[i],posData.posIn=new _mixitup.StyleData,posData.posOut=new _mixitup.StyleData,posData.tweenData=new _mixitup.StyleData,target.isShown?(posData.posIn.x=posData.startPosData.x-posData.interPosData.x,posData.posIn.y=posData.startPosData.y-posData.interPosData.y):posData.posIn.x=posData.posIn.y=0,posData.posOut.x=posData.finalPosData.x-posData.interPosData.x,posData.posOut.y=posData.finalPosData.y-posData.interPosData.y,posData.posIn.opacity=target.isShown?1:self.effectsIn.opacity,posData.posOut.opacity=1,posData.tweenData.opacity=posData.posOut.opacity-posData.posIn.opacity,target.isShown||self.config.animation.nudge||(posData.posIn.x=posData.posOut.x,posData.posIn.y=posData.posOut.y),posData.tweenData.x=posData.posOut.x-posData.posIn.x,posData.tweenData.y=posData.posOut.y-posData.posIn.y,self.config.animation.animateResizeTargets&&(posData.posIn.width=posData.startPosData.width,posData.posIn.height=posData.startPosData.height,widthChange=(posData.startPosData.width||posData.finalPosData.width)-posData.interPosData.width,posData.posIn.marginRight=posData.startPosData.marginRight-widthChange,heightChange=(posData.startPosData.height||posData.finalPosData.height)-posData.interPosData.height,posData.posIn.marginBottom=posData.startPosData.marginBottom-heightChange,posData.posOut.width=posData.finalPosData.width,posData.posOut.height=posData.finalPosData.height,widthChange=(posData.finalPosData.width||posData.startPosData.width)-posData.interPosData.width,posData.posOut.marginRight=posData.finalPosData.marginRight-widthChange,heightChange=(posData.finalPosData.height||posData.startPosData.height)-posData.interPosData.height,posData.posOut.marginBottom=posData.finalPosData.marginBottom-heightChange,posData.tweenData.width=posData.posOut.width-posData.posIn.width,posData.tweenData.height=posData.posOut.height-posData.posIn.height,posData.tweenData.marginRight=posData.posOut.marginRight-posData.posIn.marginRight,posData.tweenData.marginBottom=posData.posOut.marginBottom-posData.posIn.marginBottom),j=0;effectName=effectNames[j];j++)effect=self.effectsIn[effectName],effect instanceof _mixitup.TransformData&&effect.value&&(posData.posIn[effectName].value=effect.value,posData.posOut[effectName].value=0,posData.tweenData[effectName].value=posData.posOut[effectName].value-posData.posIn[effectName].value,posData.posIn[effectName].unit=posData.posOut[effectName].unit=posData.tweenData[effectName].unit=effect.unit);for(i=0;target=operation.toHide[i];i++)for(posData=operation.toHidePosData[i],posData.posIn=new _mixitup.StyleData,posData.posOut=new _mixitup.StyleData,posData.tweenData=new _mixitup.StyleData,posData.posIn.x=target.isShown?posData.startPosData.x-posData.interPosData.x:0,posData.posIn.y=target.isShown?posData.startPosData.y-posData.interPosData.y:0,posData.posOut.x=self.config.animation.nudge?0:posData.posIn.x,posData.posOut.y=self.config.animation.nudge?0:posData.posIn.y,posData.tweenData.x=posData.posOut.x-posData.posIn.x,posData.tweenData.y=posData.posOut.y-posData.posIn.y,self.config.animation.animateResizeTargets&&(posData.posIn.width=posData.startPosData.width,posData.posIn.height=posData.startPosData.height,widthChange=posData.startPosData.width-posData.interPosData.width,posData.posIn.marginRight=posData.startPosData.marginRight-widthChange,heightChange=posData.startPosData.height-posData.interPosData.height,posData.posIn.marginBottom=posData.startPosData.marginBottom-heightChange),posData.posIn.opacity=1,posData.posOut.opacity=self.effectsOut.opacity,posData.tweenData.opacity=posData.posOut.opacity-posData.posIn.opacity,j=0;effectName=effectNames[j];j++)effect=self.effectsOut[effectName],effect instanceof _mixitup.TransformData&&effect.value&&(posData.posIn[effectName].value=0,posData.posOut[effectName].value=effect.value,posData.tweenData[effectName].value=posData.posOut[effectName].value-posData.posIn[effectName].value,posData.posIn[effectName].unit=posData.posOut[effectName].unit=posData.tweenData[effectName].unit=effect.unit);self.callActions("afterGetTweenData",arguments)},moveTargets:function(operation){var self=this,target=null,moveData=null,posData=null,statusChange="",willTransition=!1,staggerIndex=-1,i=-1,checkProgress=self.checkProgress.bind(self);for(self.callActions("beforeMoveTargets",arguments),i=0;target=operation.show[i];i++)moveData=new _mixitup.IMoveData,posData=operation.showPosData[i],statusChange=target.isShown?"none":"show",willTransition=self.willTransition(statusChange,operation.hasEffect,posData.posIn,posData.posOut),willTransition&&staggerIndex++,target.show(),moveData.posIn=posData.posIn,moveData.posOut=posData.posOut,moveData.statusChange=statusChange,moveData.staggerIndex=staggerIndex,moveData.operation=operation,moveData.callback=willTransition?checkProgress:null,target.move(moveData);for(i=0;target=operation.toHide[i];i++)posData=operation.toHidePosData[i],moveData=new _mixitup.IMoveData,statusChange="hide",willTransition=self.willTransition(statusChange,posData.posIn,posData.posOut),moveData.posIn=posData.posIn,moveData.posOut=posData.posOut,moveData.statusChange=statusChange,moveData.staggerIndex=i,moveData.operation=operation,moveData.callback=willTransition?checkProgress:null,target.move(moveData);self.config.animation.animateResizeContainer&&(self.dom.parent.style[_mixitup.features.transitionProp]="height "+self.config.animation.duration+"ms ease, width "+self.config.animation.duration+"ms ease ",requestAnimationFrame(function(){operation.startHeight!==operation.newHeight&&operation.viewportDeltaY!==operation.startHeight-operation.newHeight&&(self.dom.parent.style.height=operation.newHeight+"px"),operation.startWidth!==operation.newWidth&&operation.viewportDeltaX!==operation.startWidth-operation.newWidth&&(self.dom.parent.style.width=operation.newWidth+"px")})),operation.willChangeLayout&&(h.removeClass(self.dom.container,self.config.layout.ContainerClassName),h.addClass(self.dom.container,operation.newContainerClassName)),self.callActions("afterMoveTargets",arguments)},hasEffect:function(){var self=this,EFFECTABLES=["scale","translateX","translateY","translateZ","rotateX","rotateY","rotateZ"],effectName="",effect=null,result=!1,value=-1,i=-1;if(1!==self.effectsIn.opacity)return self.callFilters("resultHasEffect",!0,arguments);for(i=0;effectName=EFFECTABLES[i];i++)if(effect=self.effectsIn[effectName],value=("undefined"==typeof effect?"undefined":_typeof(effect))&&"undefined"!==effect.value?effect.value:effect,0!==value){result=!0;break}return self.callFilters("resultHasEffect",result,arguments)},willTransition:function(statusChange,hasEffect,posIn,posOut){var self=this,result=!1;return result=!!h.isVisible(self.dom.container)&&(!!("none"!==statusChange&&hasEffect||posIn.x!==posOut.x||posIn.y!==posOut.y)||!!self.config.animation.animateResizeTargets&&(posIn.width!==posOut.width||posIn.height!==posOut.height||posIn.marginRight!==posOut.marginRight||posIn.marginTop!==posOut.marginTop)),self.callFilters("resultWillTransition",result,arguments)},checkProgress:function(operation){var self=this;self.targetsDone++,self.targetsBound===self.targetsDone&&self.cleanUp(operation)},cleanUp:function(operation){var self=this,target=null,whitespaceBefore=null,whitespaceAfter=null,nextInQueue=null,i=-1;for(self.callActions("beforeCleanUp",arguments),self.targetsMoved=self.targetsImmovable=self.targetsBound=self.targetsDone=0,i=0;target=operation.show[i];i++)target.cleanUp(),target.show();for(i=0;target=operation.toHide[i];i++)target.cleanUp(),target.hide();if(operation.willSort&&self.printSort(!1,operation),self.dom.parent.style[_mixitup.features.transitionProp]=self.dom.parent.style.height=self.dom.parent.style.width=self.dom.parent.style.overflow=self.dom.parent.style[_mixitup.features.perspectiveProp]=self.dom.parent.style[_mixitup.features.perspectiveOriginProp]="",
operation.willChangeLayout&&(h.removeClass(self.dom.container,operation.startContainerClassName),h.addClass(self.dom.container,operation.newContainerClassName)),operation.toRemove.length){for(i=0;target=self.targets[i];i++)operation.toRemove.indexOf(target)>-1&&((whitespaceBefore=target.dom.el.previousSibling)&&"#text"===whitespaceBefore.nodeName&&(whitespaceAfter=target.dom.el.nextSibling)&&"#text"===whitespaceAfter.nodeName&&h.removeWhitespace(whitespaceBefore),operation.willSort||self.dom.parent.removeChild(target.dom.el),self.targets.splice(i,1),target.isInDom=!1,i--);self.origOrder=self.targets}operation.willSort&&(self.targets=operation.newOrder),self.state=operation.newState,self.lastOperation=operation,self.dom.targets=self.state.targets,_mixitup.events.fire("mixEnd",self.dom.container,{state:self.state,instance:self},self.dom.document),"function"==typeof self.config.callbacks.onMixEnd&&self.config.callbacks.onMixEnd.call(self.dom.container,self.state,self),operation.hasFailed&&(_mixitup.events.fire("mixFail",self.dom.container,{state:self.state,instance:self},self.dom.document),"function"==typeof self.config.callbacks.onMixFail&&self.config.callbacks.onMixFail.call(self.dom.container,self.state,self),h.addClass(self.dom.container,h.getClassname(self.config.classNames,"container",self.config.classNames.modifierFailed))),"function"==typeof self.userCallback&&self.userCallback.call(self.dom.container,self.state,self),"function"==typeof self.userDeferred.resolve&&self.userDeferred.resolve(self.state),self.userCallback=null,self.userDeferred=null,self.lastClicked=null,self.isToggling=!1,self.isBusy=!1,self.queue.length&&(self.callActions("beforeReadQueueCleanUp",arguments),nextInQueue=self.queue.shift(),self.userDeferred=nextInQueue.deferred,self.isToggling=nextInQueue.isToggling,self.lastClicked=nextInQueue.triggerElement,nextInQueue.instruction.command instanceof _mixitup.CommandMultimix?self.multimix.apply(self,nextInQueue.args):self.dataset.apply(self,nextInQueue.args)),self.callActions("afterCleanUp",arguments)},parseMultimixArgs:function(args){var self=this,instruction=new _mixitup.UserInstruction,arg=null,i=-1;for(instruction.animate=self.config.animation.enable,instruction.command=new _mixitup.CommandMultimix,i=0;i<args.length;i++)arg=args[i],null!==arg&&("object"===("undefined"==typeof arg?"undefined":_typeof(arg))?h.extend(instruction.command,arg):"boolean"==typeof arg?instruction.animate=arg:"function"==typeof arg&&(instruction.callback=arg));return!instruction.command.insert||instruction.command.insert instanceof _mixitup.CommandInsert||(instruction.command.insert=self.parseInsertArgs([instruction.command.insert]).command),!instruction.command.remove||instruction.command.remove instanceof _mixitup.CommandRemove||(instruction.command.remove=self.parseRemoveArgs([instruction.command.remove]).command),!instruction.command.filter||instruction.command.filter instanceof _mixitup.CommandFilter||(instruction.command.filter=self.parseFilterArgs([instruction.command.filter]).command),!instruction.command.sort||instruction.command.sort instanceof _mixitup.CommandSort||(instruction.command.sort=self.parseSortArgs([instruction.command.sort]).command),!instruction.command.changeLayout||instruction.command.changeLayout instanceof _mixitup.CommandChangeLayout||(instruction.command.changeLayout=self.parseChangeLayoutArgs([instruction.command.changeLayout]).command),instruction=self.callFilters("instructionParseMultimixArgs",instruction,arguments),h.freeze(instruction),instruction},parseFilterArgs:function(args){var self=this,instruction=new _mixitup.UserInstruction,arg=null,i=-1;for(instruction.animate=self.config.animation.enable,instruction.command=new _mixitup.CommandFilter,i=0;i<args.length;i++)arg=args[i],"string"==typeof arg?instruction.command.selector=arg:null===arg?instruction.command.collection=[]:"object"===("undefined"==typeof arg?"undefined":_typeof(arg))&&h.isElement(arg,self.dom.document)?instruction.command.collection=[arg]:"object"===("undefined"==typeof arg?"undefined":_typeof(arg))&&"undefined"!=typeof arg.length?instruction.command.collection=h.arrayFromList(arg):"object"===("undefined"==typeof arg?"undefined":_typeof(arg))?h.extend(instruction.command,arg):"boolean"==typeof arg?instruction.animate=arg:"function"==typeof arg&&(instruction.callback=arg);if(instruction.command.selector&&instruction.command.collection)throw new Error(_mixitup.messages.errorFilterInvalidArguments());return instruction=self.callFilters("instructionParseFilterArgs",instruction,arguments),h.freeze(instruction),instruction},parseSortArgs:function(args){var self=this,instruction=new _mixitup.UserInstruction,arg=null,sortString="",i=-1;for(instruction.animate=self.config.animation.enable,instruction.command=new _mixitup.CommandSort,i=0;i<args.length;i++)if(arg=args[i],null!==arg)switch("undefined"==typeof arg?"undefined":_typeof(arg)){case"string":sortString=arg;break;case"object":arg.length&&(instruction.command.collection=h.arrayFromList(arg));break;case"boolean":instruction.animate=arg;break;case"function":instruction.callback=arg}return sortString&&(instruction.command=self.parseSortString(sortString,instruction.command)),instruction=self.callFilters("instructionParseSortArgs",instruction,arguments),h.freeze(instruction),instruction},parseInsertArgs:function(args){var self=this,instruction=new _mixitup.UserInstruction,arg=null,i=-1;for(instruction.animate=self.config.animation.enable,instruction.command=new _mixitup.CommandInsert,i=0;i<args.length;i++)arg=args[i],null!==arg&&("number"==typeof arg?instruction.command.index=arg:"string"==typeof arg&&["before","after"].indexOf(arg)>-1?instruction.command.position=arg:"string"==typeof arg?instruction.command.collection=h.arrayFromList(h.createElement(arg).childNodes):"object"===("undefined"==typeof arg?"undefined":_typeof(arg))&&h.isElement(arg,self.dom.document)?instruction.command.collection.length?instruction.command.sibling=arg:instruction.command.collection=[arg]:"object"===("undefined"==typeof arg?"undefined":_typeof(arg))&&arg.length?instruction.command.collection.length?instruction.command.sibling=arg[0]:instruction.command.collection=arg:"object"===("undefined"==typeof arg?"undefined":_typeof(arg))&&arg.childNodes&&arg.childNodes.length?instruction.command.collection.length?instruction.command.sibling=arg.childNodes[0]:instruction.command.collection=h.arrayFromList(arg.childNodes):"object"===("undefined"==typeof arg?"undefined":_typeof(arg))?h.extend(instruction.command,arg):"boolean"==typeof arg?instruction.animate=arg:"function"==typeof arg&&(instruction.callback=arg));if(instruction.command.index&&instruction.command.sibling)throw new Error(_mixitup.messages.errorInsertInvalidArguments());return!instruction.command.collection.length&&self.config.debug.showWarnings&&console.warn(_mixitup.messages.warningInsertNoElements()),instruction=self.callFilters("instructionParseInsertArgs",instruction,arguments),h.freeze(instruction),instruction},parseRemoveArgs:function(args){var self=this,instruction=new _mixitup.UserInstruction,target=null,arg=null,i=-1;for(instruction.animate=self.config.animation.enable,instruction.command=new _mixitup.CommandRemove,i=0;i<args.length;i++)if(arg=args[i],null!==arg)switch("undefined"==typeof arg?"undefined":_typeof(arg)){case"number":self.targets[arg]&&(instruction.command.targets[0]=self.targets[arg]);break;case"string":instruction.command.collection=h.arrayFromList(self.dom.parent.querySelectorAll(arg));break;case"object":arg&&arg.length?instruction.command.collection=arg:h.isElement(arg,self.dom.document)?instruction.command.collection=[arg]:h.extend(instruction.command,arg);break;case"boolean":instruction.animate=arg;break;case"function":instruction.callback=arg}if(instruction.command.collection.length)for(i=0;target=self.targets[i];i++)instruction.command.collection.indexOf(target.dom.el)>-1&&instruction.command.targets.push(target);return!instruction.command.targets.length&&self.config.debug.showWarnings&&console.warn(_mixitup.messages.warningRemoveNoElements()),h.freeze(instruction),instruction},parseDatasetArgs:function(args){var self=this,instruction=new _mixitup.UserInstruction,arg=null,i=-1;for(instruction.animate=self.config.animation.enable,instruction.command=new _mixitup.CommandDataset,i=0;i<args.length;i++)if(arg=args[i],null!==arg)switch("undefined"==typeof arg?"undefined":_typeof(arg)){case"object":Array.isArray(arg)||"number"==typeof arg.length?instruction.command.dataset=arg:h.extend(instruction.command,arg);break;case"boolean":instruction.animate=arg;break;case"function":instruction.callback=arg}return h.freeze(instruction),instruction},parseChangeLayoutArgs:function(args){var self=this,instruction=new _mixitup.UserInstruction,arg=null,i=-1;for(instruction.animate=self.config.animation.enable,instruction.command=new _mixitup.CommandChangeLayout,i=0;i<args.length;i++)if(arg=args[i],null!==arg)switch("undefined"==typeof arg?"undefined":_typeof(arg)){case"string":instruction.command.containerClassName=arg;break;case"object":h.extend(instruction.command,arg);break;case"boolean":instruction.animate=arg;break;case"function":instruction.callback=arg}return h.freeze(instruction),instruction},queueMix:function(queueItem){var self=this,deferred=null,toggleSelector="";return self.callActions("beforeQueueMix",arguments),deferred=h.defer(_mixitup.libraries),self.config.animation.queue&&self.queue.length<self.config.animation.queueLimit?(queueItem.deferred=deferred,self.queue.push(queueItem),self.config.controls.enable&&(self.isToggling?(self.buildToggleArray(queueItem.instruction.command),toggleSelector=self.getToggleSelector(),self.updateControls({filter:{selector:toggleSelector}})):self.updateControls(queueItem.instruction.command))):(self.config.debug.showWarnings&&console.warn(_mixitup.messages.warningMultimixInstanceQueueFull()),deferred.resolve(self.state),_mixitup.events.fire("mixBusy",self.dom.container,{state:self.state,instance:self},self.dom.document),"function"==typeof self.config.callbacks.onMixBusy&&self.config.callbacks.onMixBusy.call(self.dom.container,self.state,self)),self.callFilters("promiseQueueMix",deferred.promise,arguments)},getDataOperation:function(newDataset){var self=this,operation=new _mixitup.Operation,startDataset=[];if(operation=self.callFilters("operationUnmappedGetDataOperation",operation,arguments),self.dom.targets.length&&!(startDataset=self.state.activeDataset||[]).length)throw new Error(_mixitup.messages.errorDatasetNotSet());return operation.id=h.randomHex(),operation.startState=self.state,operation.startDataset=startDataset,operation.newDataset=newDataset.slice(),self.diffDatasets(operation),operation.startOrder=self.targets,operation.newOrder=operation.show,self.config.animation.enable&&(self.getStartMixData(operation),self.setInter(operation),operation.docState=h.getDocumentState(self.dom.document),self.getInterMixData(operation),self.setFinal(operation),self.getFinalMixData(operation),self.parseEffects(),operation.hasEffect=self.hasEffect(),self.getTweenData(operation)),self.targets=operation.show.slice(),operation.newState=self.buildState(operation),Array.prototype.push.apply(self.targets,operation.toRemove),operation=self.callFilters("operationMappedGetDataOperation",operation,arguments)},diffDatasets:function(operation){var self=this,persistantStartIds=[],persistantNewIds=[],insertedTargets=[],data=null,target=null,el=null,frag=null,nextEl=null,uids={},id="",i=-1;for(self.callActions("beforeDiffDatasets",arguments),i=0;data=operation.newDataset[i];i++){if("undefined"==typeof(id=data[self.config.data.uidKey])||id.toString().length<1)throw new TypeError(_mixitup.messages.errorDatasetInvalidUidKey({uidKey:self.config.data.uidKey}));if(uids[id])throw new Error(_mixitup.messages.errorDatasetDuplicateUid({uid:id}));uids[id]=!0,(target=self.cache[id])instanceof _mixitup.Target?(self.config.data.dirtyCheck&&!h.deepEquals(data,target.data)&&(el=target.render(data),target.data=data,el!==target.dom.el&&(target.isInDom&&(target.unbindEvents(),self.dom.parent.replaceChild(el,target.dom.el)),target.isShown||(el.style.display="none"),target.dom.el=el,target.isInDom&&target.bindEvents())),el=target.dom.el):(target=new _mixitup.Target,target.init(null,self,data),target.hide()),target.isInDom?(nextEl=target.dom.el.nextElementSibling,persistantNewIds.push(id),frag&&(frag.lastElementChild&&frag.appendChild(self.dom.document.createTextNode(" ")),self.insertDatasetFrag(frag,target.dom.el,insertedTargets),frag=null)):(frag||(frag=self.dom.document.createDocumentFragment()),frag.lastElementChild&&frag.appendChild(self.dom.document.createTextNode(" ")),frag.appendChild(target.dom.el),target.isInDom=!0,target.unbindEvents(),target.bindEvents(),target.hide(),operation.toShow.push(target),insertedTargets.push(target)),operation.show.push(target)}for(frag&&(nextEl=nextEl||self.config.layout.siblingAfter,nextEl&&frag.appendChild(self.dom.document.createTextNode(" ")),self.insertDatasetFrag(frag,nextEl,insertedTargets)),i=0;data=operation.startDataset[i];i++)id=data[self.config.data.uidKey],target=self.cache[id],operation.show.indexOf(target)<0?(operation.hide.push(target),operation.toHide.push(target),operation.toRemove.push(target)):persistantStartIds.push(id);h.isEqualArray(persistantStartIds,persistantNewIds)||(operation.willSort=!0),self.callActions("afterDiffDatasets",arguments)},insertDatasetFrag:function(frag,nextEl,targets){var self=this,insertAt=nextEl?Array.from(self.dom.parent.children).indexOf(nextEl):self.targets.length;for(self.dom.parent.insertBefore(frag,nextEl);targets.length;)self.targets.splice(insertAt,0,targets.shift()),insertAt++},willSort:function(sortCommandA,sortCommandB){var self=this,result=!1;return result=!!(self.config.behavior.liveSort||"random"===sortCommandA.order||sortCommandA.attribute!==sortCommandB.attribute||sortCommandA.order!==sortCommandB.order||sortCommandA.collection!==sortCommandB.collection||null===sortCommandA.next&&sortCommandB.next||sortCommandA.next&&null===sortCommandB.next)||!(!sortCommandA.next||!sortCommandB.next)&&self.willSort(sortCommandA.next,sortCommandB.next),self.callFilters("resultWillSort",result,arguments)},show:function(){var self=this;return self.filter("all")},hide:function(){var self=this;return self.filter("none")},isMixing:function(){var self=this;return self.isBusy},filter:function(){var self=this,instruction=self.parseFilterArgs(arguments);return self.multimix({filter:instruction.command},instruction.animate,instruction.callback)},toggleOn:function(){var self=this,instruction=self.parseFilterArgs(arguments),selector=instruction.command.selector,toggleSelector="";return self.isToggling=!0,self.toggleArray.indexOf(selector)<0&&self.toggleArray.push(selector),toggleSelector=self.getToggleSelector(),self.multimix({filter:toggleSelector},instruction.animate,instruction.callback)},toggleOff:function(){var self=this,instruction=self.parseFilterArgs(arguments),selector=instruction.command.selector,toggleSelector="";return self.isToggling=!0,self.toggleArray.splice(self.toggleArray.indexOf(selector),1),toggleSelector=self.getToggleSelector(),self.multimix({filter:toggleSelector},instruction.animate,instruction.callback)},sort:function(){var self=this,instruction=self.parseSortArgs(arguments);return self.multimix({sort:instruction.command},instruction.animate,instruction.callback)},changeLayout:function(){var self=this,instruction=self.parseChangeLayoutArgs(arguments);return self.multimix({changeLayout:instruction.command},instruction.animate,instruction.callback)},dataset:function(){var self=this,instruction=self.parseDatasetArgs(arguments),operation=null,queueItem=null,animate=!1;return self.callActions("beforeDataset",arguments),self.isBusy?(queueItem=new _mixitup.QueueItem,queueItem.args=arguments,queueItem.instruction=instruction,self.queueMix(queueItem)):(instruction.callback&&(self.userCallback=instruction.callback),animate=instruction.animate^self.config.animation.enable?instruction.animate:self.config.animation.enable,operation=self.getDataOperation(instruction.command.dataset),self.goMix(animate,operation))},multimix:function(){var self=this,operation=null,animate=!1,queueItem=null,instruction=self.parseMultimixArgs(arguments);return self.callActions("beforeMultimix",arguments),self.isBusy?(queueItem=new _mixitup.QueueItem,queueItem.args=arguments,queueItem.instruction=instruction,queueItem.triggerElement=self.lastClicked,queueItem.isToggling=self.isToggling,self.queueMix(queueItem)):(operation=self.getOperation(instruction.command),self.config.controls.enable&&(instruction.command.filter&&!self.isToggling&&(self.toggleArray.length=0,self.buildToggleArray(operation.command)),self.queue.length<1&&self.updateControls(operation.command)),instruction.callback&&(self.userCallback=instruction.callback),animate=instruction.animate^self.config.animation.enable?instruction.animate:self.config.animation.enable,self.callFilters("operationMultimix",operation,arguments),self.goMix(animate,operation))},getOperation:function(multimixCommand){var self=this,sortCommand=multimixCommand.sort,filterCommand=multimixCommand.filter,changeLayoutCommand=multimixCommand.changeLayout,removeCommand=multimixCommand.remove,insertCommand=multimixCommand.insert,operation=new _mixitup.Operation;return operation=self.callFilters("operationUnmappedGetOperation",operation,arguments),operation.id=h.randomHex(),operation.command=multimixCommand,operation.startState=self.state,operation.triggerElement=self.lastClicked,self.isBusy?(self.config.debug.showWarnings&&console.warn(_mixitup.messages.warningGetOperationInstanceBusy()),null):(insertCommand&&self.insertTargets(insertCommand,operation),removeCommand&&(operation.toRemove=removeCommand.targets),operation.startSort=operation.newSort=operation.startState.activeSort,operation.startOrder=operation.newOrder=self.targets,sortCommand&&(operation.startSort=operation.startState.activeSort,operation.newSort=sortCommand,operation.willSort=self.willSort(sortCommand,operation.startState.activeSort),operation.willSort&&self.sortOperation(operation)),operation.startFilter=operation.startState.activeFilter,filterCommand?operation.newFilter=filterCommand:operation.newFilter=h.extend(new _mixitup.CommandFilter,operation.startFilter),"all"===operation.newFilter.selector?operation.newFilter.selector=self.config.selectors.target:"none"===operation.newFilter.selector&&(operation.newFilter.selector=""),self.filterOperation(operation),operation.startContainerClassName=operation.startState.activeContainerClassName,changeLayoutCommand?(operation.newContainerClassName=changeLayoutCommand.containerClassName,operation.newContainerClassName!==operation.startContainerClassName&&(operation.willChangeLayout=!0)):operation.newContainerClassName=operation.startContainerClassName,self.config.animation.enable&&(self.getStartMixData(operation),self.setInter(operation),operation.docState=h.getDocumentState(self.dom.document),self.getInterMixData(operation),self.setFinal(operation),self.getFinalMixData(operation),self.parseEffects(),operation.hasEffect=self.hasEffect(),self.getTweenData(operation)),operation.willSort&&(self.targets=operation.newOrder),operation.newState=self.buildState(operation),self.callFilters("operationMappedGetOperation",operation,arguments))},tween:function(operation,multiplier){var target=null,posData=null,toHideIndex=-1,i=-1;for(multiplier=Math.min(multiplier,1),multiplier=Math.max(multiplier,0),i=0;target=operation.show[i];i++)posData=operation.showPosData[i],target.applyTween(posData,multiplier);for(i=0;target=operation.hide[i];i++)target.isShown&&target.hide(),(toHideIndex=operation.toHide.indexOf(target))>-1&&(posData=operation.toHidePosData[toHideIndex],target.isShown||target.show(),target.applyTween(posData,multiplier))},insert:function(){var self=this,args=self.parseInsertArgs(arguments);return self.multimix({insert:args.command},args.animate,args.callback)},insertBefore:function(){var self=this,args=self.parseInsertArgs(arguments);return self.insert(args.command.collection,"before",args.command.sibling,args.animate,args.callback)},insertAfter:function(){var self=this,args=self.parseInsertArgs(arguments);return self.insert(args.command.collection,"after",args.command.sibling,args.animate,args.callback)},prepend:function(){var self=this,args=self.parseInsertArgs(arguments);return self.insert(0,args.command.collection,args.animate,args.callback)},append:function(){var self=this,args=self.parseInsertArgs(arguments);return self.insert(self.state.totalTargets,args.command.collection,args.animate,args.callback)},remove:function(){var self=this,args=self.parseRemoveArgs(arguments);return self.multimix({remove:args.command},args.animate,args.callback)},getConfig:function(stringKey){var self=this,value=null;return value=stringKey?h.getProperty(self.config,stringKey):self.config,self.callFilters("valueGetConfig",value,arguments)},configure:function(config){var self=this;self.callActions("beforeConfigure",arguments),h.extend(self.config,config,!0,!0),self.callActions("afterConfigure",arguments)},getState:function(){var self=this,state=null;return state=new _mixitup.State,h.extend(state,self.state),h.freeze(state),self.callFilters("stateGetState",state,arguments)},forceRefresh:function(){var self=this;self.indexTargets()},forceRender:function(){var self=this,target=null,el=null,id="";for(id in self.cache)target=self.cache[id],el=target.render(target.data),el!==target.dom.el&&(target.isInDom&&(target.unbindEvents(),self.dom.parent.replaceChild(el,target.dom.el)),target.isShown||(el.style.display="none"),target.dom.el=el,target.isInDom&&target.bindEvents());self.state=self.buildState(self.lastOperation)},destroy:function(cleanUp){var self=this,control=null,target=null,i=0;for(self.callActions("beforeDestroy",arguments),i=0;control=self.controls[i];i++)control.removeBinding(self);for(i=0;target=self.targets[i];i++)cleanUp&&target.show(),target.unbindEvents();self.dom.container.id.match(/^MixItUp/)&&self.dom.container.removeAttribute("id"),delete _mixitup.instances[self.id],self.callActions("afterDestroy",arguments)}}),_mixitup.IMoveData=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.posIn=null,this.posOut=null,this.operation=null,this.callback=null,this.statusChange="",this.duration=-1,this.staggerIndex=-1,this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.IMoveData),_mixitup.IMoveData.prototype=Object.create(_mixitup.Base.prototype),_mixitup.IMoveData.prototype.constructor=_mixitup.IMoveData,_mixitup.TargetDom=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.el=null,this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.TargetDom),_mixitup.TargetDom.prototype=Object.create(_mixitup.Base.prototype),_mixitup.TargetDom.prototype.constructor=_mixitup.TargetDom,_mixitup.Target=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.id="",this.sortString="",this.mixer=null,this.callback=null,this.isShown=!1,this.isBound=!1,this.isExcluded=!1,this.isInDom=!1,this.handler=null,this.operation=null,this.data=null,this.dom=new _mixitup.TargetDom,this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.Target),_mixitup.Target.prototype=Object.create(_mixitup.Base.prototype),h.extend(_mixitup.Target.prototype,{constructor:_mixitup.Target,init:function(el,mixer,data){var self=this,id="";if(self.callActions("beforeInit",arguments),self.mixer=mixer,el||(el=self.render(data)),self.cacheDom(el),self.bindEvents(),"none"!==self.dom.el.style.display&&(self.isShown=!0),data&&mixer.config.data.uidKey){if("undefined"==typeof(id=data[mixer.config.data.uidKey])||id.toString().length<1)throw new TypeError(_mixitup.messages.errorDatasetInvalidUidKey({uidKey:mixer.config.data.uidKey}));self.id=id,self.data=data,mixer.cache[id]=self}self.callActions("afterInit",arguments)},render:function render(data){var self=this,render=null,el=null,temp=null,output="";if(self.callActions("beforeRender",arguments),render=self.callFilters("renderRender",self.mixer.config.render.target,arguments),"function"!=typeof render)throw new TypeError(_mixitup.messages.errorDatasetRendererNotSet());return output=render(data),output&&"object"===("undefined"==typeof output?"undefined":_typeof(output))&&h.isElement(output)?el=output:"string"==typeof output&&(temp=document.createElement("div"),temp.innerHTML=output,el=temp.firstElementChild),self.callFilters("elRender",el,arguments)},cacheDom:function(el){var self=this;self.callActions("beforeCacheDom",arguments),self.dom.el=el,self.callActions("afterCacheDom",arguments)},getSortString:function(attributeName){var self=this,value=self.dom.el.getAttribute("data-"+attributeName)||"";self.callActions("beforeGetSortString",arguments),value=isNaN(1*value)?value.toLowerCase():1*value,self.sortString=value,self.callActions("afterGetSortString",arguments)},show:function(){var self=this;self.callActions("beforeShow",arguments),self.isShown||(self.dom.el.style.display="",self.isShown=!0),self.callActions("afterShow",arguments)},hide:function(){var self=this;self.callActions("beforeHide",arguments),self.isShown&&(self.dom.el.style.display="none",self.isShown=!1),self.callActions("afterHide",arguments)},move:function(moveData){var self=this;self.callActions("beforeMove",arguments),self.isExcluded||self.mixer.targetsMoved++,self.applyStylesIn(moveData),requestAnimationFrame(function(){self.applyStylesOut(moveData)}),self.callActions("afterMove",arguments)},applyTween:function(posData,multiplier){var self=this,propertyName="",tweenData=null,posIn=posData.posIn,currentTransformValues=[],currentValues=new _mixitup.StyleData,i=-1;for(self.callActions("beforeApplyTween",arguments),currentValues.x=posIn.x,currentValues.y=posIn.y,0===multiplier?self.hide():self.isShown||self.show(),i=0;propertyName=_mixitup.features.TWEENABLE[i];i++)if(tweenData=posData.tweenData[propertyName],"x"===propertyName){if(!tweenData)continue;currentValues.x=posIn.x+tweenData*multiplier}else if("y"===propertyName){if(!tweenData)continue;currentValues.y=posIn.y+tweenData*multiplier}else if(tweenData instanceof _mixitup.TransformData){if(!tweenData.value)continue;currentValues[propertyName].value=posIn[propertyName].value+tweenData.value*multiplier,currentValues[propertyName].unit=tweenData.unit,currentTransformValues.push(propertyName+"("+currentValues[propertyName].value+tweenData.unit+")")}else{if(!tweenData)continue;currentValues[propertyName]=posIn[propertyName]+tweenData*multiplier,self.dom.el.style[propertyName]=currentValues[propertyName]}(currentValues.x||currentValues.y)&&currentTransformValues.unshift("translate("+currentValues.x+"px, "+currentValues.y+"px)"),currentTransformValues.length&&(self.dom.el.style[_mixitup.features.transformProp]=currentTransformValues.join(" ")),self.callActions("afterApplyTween",arguments)},applyStylesIn:function(moveData){var self=this,posIn=moveData.posIn,isFading=1!==self.mixer.effectsIn.opacity,transformValues=[];self.callActions("beforeApplyStylesIn",arguments),transformValues.push("translate("+posIn.x+"px, "+posIn.y+"px)"),self.mixer.config.animation.animateResizeTargets&&("show"!==moveData.statusChange&&(self.dom.el.style.width=posIn.width+"px",self.dom.el.style.height=posIn.height+"px"),self.dom.el.style.marginRight=posIn.marginRight+"px",self.dom.el.style.marginBottom=posIn.marginBottom+"px"),isFading&&(self.dom.el.style.opacity=posIn.opacity),"show"===moveData.statusChange&&(transformValues=transformValues.concat(self.mixer.transformIn)),self.dom.el.style[_mixitup.features.transformProp]=transformValues.join(" "),self.callActions("afterApplyStylesIn",arguments)},applyStylesOut:function(moveData){var self=this,transitionRules=[],transformValues=[],isResizing=self.mixer.config.animation.animateResizeTargets,isFading="undefined"!=typeof self.mixer.effectsIn.opacity;if(self.callActions("beforeApplyStylesOut",arguments),transitionRules.push(self.writeTransitionRule(_mixitup.features.transformRule,moveData.staggerIndex)),"none"!==moveData.statusChange&&transitionRules.push(self.writeTransitionRule("opacity",moveData.staggerIndex,moveData.duration)),isResizing&&(transitionRules.push(self.writeTransitionRule("width",moveData.staggerIndex,moveData.duration)),transitionRules.push(self.writeTransitionRule("height",moveData.staggerIndex,moveData.duration)),transitionRules.push(self.writeTransitionRule("margin",moveData.staggerIndex,moveData.duration))),!moveData.callback)return self.mixer.targetsImmovable++,void(self.mixer.targetsMoved===self.mixer.targetsImmovable&&self.mixer.cleanUp(moveData.operation));switch(self.operation=moveData.operation,self.callback=moveData.callback,!self.isExcluded&&self.mixer.targetsBound++,self.isBound=!0,self.applyTransition(transitionRules),isResizing&&moveData.posOut.width>0&&moveData.posOut.height>0&&(self.dom.el.style.width=moveData.posOut.width+"px",self.dom.el.style.height=moveData.posOut.height+"px",self.dom.el.style.marginRight=moveData.posOut.marginRight+"px",self.dom.el.style.marginBottom=moveData.posOut.marginBottom+"px"),self.mixer.config.animation.nudge||"hide"!==moveData.statusChange||transformValues.push("translate("+moveData.posOut.x+"px, "+moveData.posOut.y+"px)"),moveData.statusChange){case"hide":isFading&&(self.dom.el.style.opacity=self.mixer.effectsOut.opacity),transformValues=transformValues.concat(self.mixer.transformOut);break;case"show":isFading&&(self.dom.el.style.opacity=1)}(self.mixer.config.animation.nudge||!self.mixer.config.animation.nudge&&"hide"!==moveData.statusChange)&&transformValues.push("translate("+moveData.posOut.x+"px, "+moveData.posOut.y+"px)"),self.dom.el.style[_mixitup.features.transformProp]=transformValues.join(" "),self.callActions("afterApplyStylesOut",arguments)},writeTransitionRule:function(property,staggerIndex,duration){var self=this,delay=self.getDelay(staggerIndex),rule="";return rule=property+" "+(duration>0?duration:self.mixer.config.animation.duration)+"ms "+delay+"ms "+("opacity"===property?"linear":self.mixer.config.animation.easing),self.callFilters("ruleWriteTransitionRule",rule,arguments)},getDelay:function(index){var self=this,delay=-1;return"function"==typeof self.mixer.config.animation.staggerSequence&&(index=self.mixer.config.animation.staggerSequence.call(self,index,self.state)),delay=self.mixer.staggerDuration?index*self.mixer.staggerDuration:0,self.callFilters("delayGetDelay",delay,arguments)},applyTransition:function(rules){var self=this,transitionString=rules.join(", ");self.callActions("beforeApplyTransition",arguments),self.dom.el.style[_mixitup.features.transitionProp]=transitionString,self.callActions("afterApplyTransition",arguments)},handleTransitionEnd:function(e){var self=this,propName=e.propertyName,canResize=self.mixer.config.animation.animateResizeTargets;self.callActions("beforeHandleTransitionEnd",arguments),self.isBound&&e.target.matches(self.mixer.config.selectors.target)&&(propName.indexOf("transform")>-1||propName.indexOf("opacity")>-1||canResize&&propName.indexOf("height")>-1||canResize&&propName.indexOf("width")>-1||canResize&&propName.indexOf("margin")>-1)&&(self.callback.call(self,self.operation),self.isBound=!1,self.callback=null,self.operation=null),self.callActions("afterHandleTransitionEnd",arguments)},eventBus:function(e){var self=this;switch(self.callActions("beforeEventBus",arguments),e.type){case"webkitTransitionEnd":case"transitionend":self.handleTransitionEnd(e)}self.callActions("afterEventBus",arguments)},unbindEvents:function(){var self=this;self.callActions("beforeUnbindEvents",arguments),h.off(self.dom.el,"webkitTransitionEnd",self.handler),h.off(self.dom.el,"transitionend",self.handler),self.callActions("afterUnbindEvents",arguments)},bindEvents:function(){var self=this,transitionEndEvent="";self.callActions("beforeBindEvents",arguments),
transitionEndEvent="webkit"===_mixitup.features.transitionPrefix?"webkitTransitionEnd":"transitionend",self.handler=function(e){return self.eventBus(e)},h.on(self.dom.el,transitionEndEvent,self.handler),self.callActions("afterBindEvents",arguments)},getPosData:function(getBox){var self=this,styles={},rect=null,posData=new _mixitup.StyleData;return self.callActions("beforeGetPosData",arguments),posData.x=self.dom.el.offsetLeft,posData.y=self.dom.el.offsetTop,(self.mixer.config.animation.animateResizeTargets||getBox)&&(rect=self.dom.el.getBoundingClientRect(),posData.top=rect.top,posData.right=rect.right,posData.bottom=rect.bottom,posData.left=rect.left,posData.width=rect.width,posData.height=rect.height),self.mixer.config.animation.animateResizeTargets&&(styles=window.getComputedStyle(self.dom.el),posData.marginBottom=parseFloat(styles.marginBottom),posData.marginRight=parseFloat(styles.marginRight)),self.callFilters("posDataGetPosData",posData,arguments)},cleanUp:function(){var self=this;self.callActions("beforeCleanUp",arguments),self.dom.el.style[_mixitup.features.transformProp]="",self.dom.el.style[_mixitup.features.transitionProp]="",self.dom.el.style.opacity="",self.mixer.config.animation.animateResizeTargets&&(self.dom.el.style.width="",self.dom.el.style.height="",self.dom.el.style.marginRight="",self.dom.el.style.marginBottom=""),self.callActions("afterCleanUp",arguments)}}),_mixitup.Collection=function(instances){var instance=null,i=-1;for(this.callActions("beforeConstruct"),i=0;instance=instances[i];i++)this[i]=instance;this.length=instances.length,this.callActions("afterConstruct"),h.freeze(this)},_mixitup.BaseStatic.call(_mixitup.Collection),_mixitup.Collection.prototype=Object.create(_mixitup.Base.prototype),h.extend(_mixitup.Collection.prototype,{constructor:_mixitup.Collection,mixitup:function(methodName){var self=this,instance=null,args=Array.prototype.slice.call(arguments),tasks=[],i=-1;for(this.callActions("beforeMixitup"),args.shift(),i=0;instance=self[i];i++)tasks.push(instance[methodName].apply(instance,args));return self.callFilters("promiseMixitup",h.all(tasks,_mixitup.libraries),arguments)}}),_mixitup.Operation=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.id="",this.args=[],this.command=null,this.showPosData=[],this.toHidePosData=[],this.startState=null,this.newState=null,this.docState=null,this.willSort=!1,this.willChangeLayout=!1,this.hasEffect=!1,this.hasFailed=!1,this.triggerElement=null,this.show=[],this.hide=[],this.matching=[],this.toShow=[],this.toHide=[],this.toMove=[],this.toRemove=[],this.startOrder=[],this.newOrder=[],this.startSort=null,this.newSort=null,this.startFilter=null,this.newFilter=null,this.startDataset=null,this.newDataset=null,this.viewportDeltaX=0,this.viewportDeltaY=0,this.startX=0,this.startY=0,this.startHeight=0,this.startWidth=0,this.newX=0,this.newY=0,this.newHeight=0,this.newWidth=0,this.startContainerClassName="",this.startDisplay="",this.newContainerClassName="",this.newDisplay="",this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.Operation),_mixitup.Operation.prototype=Object.create(_mixitup.Base.prototype),_mixitup.Operation.prototype.constructor=_mixitup.Operation,_mixitup.State=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.id="",this.activeFilter=null,this.activeSort=null,this.activeContainerClassName="",this.container=null,this.targets=[],this.hide=[],this.show=[],this.matching=[],this.totalTargets=-1,this.totalShow=-1,this.totalHide=-1,this.totalMatching=-1,this.hasFailed=!1,this.triggerElement=null,this.activeDataset=null,this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.State),_mixitup.State.prototype=Object.create(_mixitup.Base.prototype),_mixitup.State.prototype.constructor=_mixitup.State,_mixitup.UserInstruction=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.command={},this.animate=!1,this.callback=null,this.callActions("afterConstruct"),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.UserInstruction),_mixitup.UserInstruction.prototype=Object.create(_mixitup.Base.prototype),_mixitup.UserInstruction.prototype.constructor=_mixitup.UserInstruction,_mixitup.Messages=function(){_mixitup.Base.call(this),this.callActions("beforeConstruct"),this.ERROR_FACTORY_INVALID_CONTAINER="[MixItUp] An invalid selector or element reference was passed to the mixitup factory function",this.ERROR_FACTORY_CONTAINER_NOT_FOUND="[MixItUp] The provided selector yielded no container element",this.ERROR_CONFIG_INVALID_ANIMATION_EFFECTS="[MixItUp] Invalid value for `animation.effects`",this.ERROR_CONFIG_INVALID_CONTROLS_SCOPE="[MixItUp] Invalid value for `controls.scope`",this.ERROR_CONFIG_INVALID_PROPERTY='[MixitUp] Invalid configuration object property "${erroneous}"${suggestion}',this.ERROR_CONFIG_INVALID_PROPERTY_SUGGESTION='. Did you mean "${probableMatch}"?',this.ERROR_CONFIG_DATA_UID_KEY_NOT_SET="[MixItUp] To use the dataset API, a UID key must be specified using `data.uidKey`",this.ERROR_DATASET_INVALID_UID_KEY='[MixItUp] The specified UID key "${uidKey}" is not present on one or more dataset items',this.ERROR_DATASET_DUPLICATE_UID='[MixItUp] The UID "${uid}" was found on two or more dataset items. UIDs must be unique.',this.ERROR_INSERT_INVALID_ARGUMENTS="[MixItUp] Please provider either an index or a sibling and position to insert, not both",this.ERROR_INSERT_PREEXISTING_ELEMENT="[MixItUp] An element to be inserted already exists in the container",this.ERROR_FILTER_INVALID_ARGUMENTS="[MixItUp] Please provide either a selector or collection `.filter()`, not both",this.ERROR_DATASET_NOT_SET="[MixItUp] To use the dataset API with pre-rendered targets, a starting dataset must be set using `load.dataset`",this.ERROR_DATASET_PRERENDERED_MISMATCH="[MixItUp] `load.dataset` does not match pre-rendered targets",this.ERROR_DATASET_RENDERER_NOT_SET="[MixItUp] To insert an element via the dataset API, a target renderer function must be provided to `render.target`",this.WARNING_FACTORY_PREEXISTING_INSTANCE="[MixItUp] WARNING: This element already has an active MixItUp instance. The provided configuration object will be ignored. If you wish to perform additional methods on this instance, please create a reference.",this.WARNING_INSERT_NO_ELEMENTS="[MixItUp] WARNING: No valid elements were passed to `.insert()`",this.WARNING_REMOVE_NO_ELEMENTS="[MixItUp] WARNING: No valid elements were passed to `.remove()`",this.WARNING_MULTIMIX_INSTANCE_QUEUE_FULL="[MixItUp] WARNING: An operation was requested but the MixItUp instance was busy. The operation was rejected because the queue is full or queuing is disabled.",this.WARNING_GET_OPERATION_INSTANCE_BUSY="[MixItUp] WARNING: Operations can be be created while the MixItUp instance is busy.",this.WARNING_NO_PROMISE_IMPLEMENTATION="[MixItUp] WARNING: No Promise implementations could be found. If you wish to use promises with MixItUp please install an ES6 Promise polyfill.",this.WARNING_INCONSISTENT_SORTING_ATTRIBUTES='[MixItUp] WARNING: The requested sorting data attribute "${attribute}" was not present on one or more target elements which may product unexpected sort output',this.callActions("afterConstruct"),this.compileTemplates(),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.Messages),_mixitup.Messages.prototype=Object.create(_mixitup.Base.prototype),_mixitup.Messages.prototype.constructor=_mixitup.Messages,_mixitup.Messages.prototype.compileTemplates=function(){var errorKey="",errorMessage="";for(errorKey in this)"string"==typeof(errorMessage=this[errorKey])&&(this[h.camelCase(errorKey)]=h.template(errorMessage))},_mixitup.messages=new _mixitup.Messages,_mixitup.Facade=function(mixer){_mixitup.Base.call(this),this.callActions("beforeConstruct",arguments),this.configure=mixer.configure.bind(mixer),this.show=mixer.show.bind(mixer),this.hide=mixer.hide.bind(mixer),this.filter=mixer.filter.bind(mixer),this.toggleOn=mixer.toggleOn.bind(mixer),this.toggleOff=mixer.toggleOff.bind(mixer),this.sort=mixer.sort.bind(mixer),this.changeLayout=mixer.changeLayout.bind(mixer),this.multimix=mixer.multimix.bind(mixer),this.dataset=mixer.dataset.bind(mixer),this.tween=mixer.tween.bind(mixer),this.insert=mixer.insert.bind(mixer),this.insertBefore=mixer.insertBefore.bind(mixer),this.insertAfter=mixer.insertAfter.bind(mixer),this.prepend=mixer.prepend.bind(mixer),this.append=mixer.append.bind(mixer),this.remove=mixer.remove.bind(mixer),this.destroy=mixer.destroy.bind(mixer),this.forceRefresh=mixer.forceRefresh.bind(mixer),this.forceRender=mixer.forceRender.bind(mixer),this.isMixing=mixer.isMixing.bind(mixer),this.getOperation=mixer.getOperation.bind(mixer),this.getConfig=mixer.getConfig.bind(mixer),this.getState=mixer.getState.bind(mixer),this.callActions("afterConstruct",arguments),h.freeze(this),h.seal(this)},_mixitup.BaseStatic.call(_mixitup.Facade),_mixitup.Facade.prototype=Object.create(_mixitup.Base.prototype),_mixitup.Facade.prototype.constructor=_mixitup.Facade,"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"object"===("undefined"==typeof module?"undefined":_typeof(module))?module.exports=_mixitup:"function"==typeof define&&define.amd?define(function(){return _mixitup}):"undefined"!=typeof window.mixitup&&"function"==typeof window.mixitup||(window.mixitup=_mixitup),_mixitup.BaseStatic.call(_mixitup.constructor),_mixitup.NAME="mixitup",_mixitup.CORE_VERSION="3.2.1"}(window);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};!function(e,n,t){function s(e,n){return("undefined"==typeof e?"undefined":_typeof(e))===n}function r(){var e,n,t,r,o,i,a;for(var f in x)if(x.hasOwnProperty(f)){if(e=[],n=x[f],n.name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(t=0;t<n.options.aliases.length;t++)e.push(n.options.aliases[t].toLowerCase());for(r=s(n.fn,"function")?n.fn():n.fn,o=0;o<e.length;o++)i=e[o],a=i.split("."),1===a.length?Modernizr[a[0]]=r:(!Modernizr[a[0]]||Modernizr[a[0]]instanceof Boolean||(Modernizr[a[0]]=new Boolean(Modernizr[a[0]])),Modernizr[a[0]][a[1]]=r),y.push((r?"":"no-")+a.join("-"))}}function o(e){var n=w.className,t=Modernizr._config.classPrefix||"";if(S&&(n=n.baseVal),Modernizr._config.enableJSClass){var s=new RegExp("(^|\\s)"+t+"no-js(\\s|$)");n=n.replace(s,"$1"+t+"js$2")}Modernizr._config.enableClasses&&(n+=" "+t+e.join(" "+t),S?w.className.baseVal=n:w.className=n)}function i(){return"function"!=typeof n.createElement?n.createElement(arguments[0]):S?n.createElementNS.call(n,"http://www.w3.org/2000/svg",arguments[0]):n.createElement.apply(n,arguments)}function a(){var e=n.body;return e||(e=i(S?"svg":"body"),e.fake=!0),e}function f(e,t,s,r){var o,f,l,u,d="modernizr",p=i("div"),c=a();if(parseInt(s,10))for(;s--;)l=i("div"),l.id=r?r[s]:d+(s+1),p.appendChild(l);return o=i("style"),o.type="text/css",o.id="s"+d,(c.fake?c:p).appendChild(o),c.appendChild(p),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(n.createTextNode(e)),p.id=d,c.fake&&(c.style.background="",c.style.overflow="hidden",u=w.style.overflow,w.style.overflow="hidden",w.appendChild(c)),f=t(p,e),c.fake?(c.parentNode.removeChild(c),w.style.overflow=u,w.offsetHeight):p.parentNode.removeChild(p),!!f}function l(e,n){return!!~(""+e).indexOf(n)}function u(e){return e.replace(/([a-z])-([a-z])/g,function(e,n,t){return n+t.toUpperCase()}).replace(/^-/,"")}function d(e,n){return function(){return e.apply(n,arguments)}}function p(e,n,t){var r;for(var o in e)if(e[o]in n)return t===!1?e[o]:(r=n[e[o]],s(r,"function")?d(r,t||n):r);return!1}function c(e){return e.replace(/([A-Z])/g,function(e,n){return"-"+n.toLowerCase()}).replace(/^ms-/,"-ms-")}function m(n,s){var r=n.length;if("CSS"in e&&"supports"in e.CSS){for(;r--;)if(e.CSS.supports(c(n[r]),s))return!0;return!1}if("CSSSupportsRule"in e){for(var o=[];r--;)o.push("("+c(n[r])+":"+s+")");return o=o.join(" or "),f("@supports ("+o+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return t}function h(e,n,r,o){function a(){d&&(delete N.style,delete N.modElem)}if(o=!s(o,"undefined")&&o,!s(r,"undefined")){var f=m(e,r);if(!s(f,"undefined"))return f}for(var d,p,c,h,v,g=["modernizr","tspan"];!N.style;)d=!0,N.modElem=i(g.shift()),N.style=N.modElem.style;for(c=e.length,p=0;c>p;p++)if(h=e[p],v=N.style[h],l(h,"-")&&(h=u(h)),N.style[h]!==t){if(o||s(r,"undefined"))return a(),"pfx"!=n||h;try{N.style[h]=r}catch(y){}if(N.style[h]!=v)return a(),"pfx"!=n||h}return a(),!1}function v(e,n,t,r,o){var i=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+z.join(i+" ")+i).split(" ");return s(n,"string")||s(n,"undefined")?h(a,n,r,o):(a=(e+" "+P.join(i+" ")+i).split(" "),p(a,n,t))}function g(e,n,s){return v(e,t,t,n,s)}var y=[],x=[],C={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var t=this;setTimeout(function(){n(t[e])},0)},addTest:function(e,n,t){x.push({name:e,fn:n,options:t})},addAsyncTest:function(e){x.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=C,Modernizr=new Modernizr;var w=n.documentElement,S="svg"===w.nodeName.toLowerCase(),b=C._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];C._prefixes=b;var _=C.testStyles=f;Modernizr.addTest("touchevents",function(){var t;if("ontouchstart"in e||e.DocumentTouch&&n instanceof DocumentTouch)t=!0;else{var s=["@media (",b.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");_(s,function(e){t=9===e.offsetTop})}return t});var T="Moz O ms Webkit",z=C._config.usePrefixes?T.split(" "):[];C._cssomPrefixes=z;var P=C._config.usePrefixes?T.toLowerCase().split(" "):[];C._domPrefixes=P;var E={elem:i("modernizr")};Modernizr._q.push(function(){delete E.elem});var N={style:E.elem.style};Modernizr._q.unshift(function(){delete N.style}),C.testAllProps=v,C.testAllProps=g,Modernizr.addTest("cssanimations",g("animationName","a",!0)),Modernizr.addTest("flexbox",g("flexBasis","1px",!0)),Modernizr.addTest("flexboxlegacy",g("boxDirection","reverse",!0)),Modernizr.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&g("transform","scale(1)",!0)}),Modernizr.addTest("csstransitions",g("transition","all",!0));var j="CSS"in e&&"supports"in e.CSS,k="supportsCSS"in e;Modernizr.addTest("supports",j||k),Modernizr.addTest("csstransforms3d",function(){var e=!!g("perspective","1px",!0),n=Modernizr._config.usePrefixes;if(e&&(!n||"webkitPerspective"in w.style)){var t,s="#modernizr{width:0;height:0}";Modernizr.supports?t="@supports (perspective: 1px)":(t="@media (transform-3d)",n&&(t+=",(-webkit-transform-3d)")),t+="{#modernizr{width:7px;height:18px;margin:0;padding:0;border:0}}",_(s+t,function(n){e=7===n.offsetWidth&&18===n.offsetHeight})}return e}),r(),o(y),delete C.addTest,delete C.addAsyncTest;for(var A=0;A<Modernizr._q.length;A++)Modernizr._q[A]();e.Modernizr=Modernizr}(window,document),jQuery(document).ready(function($){function togglePushy(){console.log("togglePushy"),body.toggleClass(pushyActiveClass),pushy.toggleClass(pushyClass),push.toggleClass(pushClass)}function openPushyFallback(){console.log("openPushyFallback"),body.addClass(pushyActiveClass),header.addClass(pushClass),pushy.addClass(pushyClass),container.addClass(pushClass)}function closePushyFallback(){console.log("closePushyFallback"),body.removeClass(pushyActiveClass),header.removeClass(pushClass),pushy.removeClass("pushy-open"),container.removeClass(pushClass)}var pushy=$(".pushy"),body=$("body"),header=$(".site-header"),container=$(".site-container"),siteOverlay=$(".site-overlay"),push=$(".push"),pushyClass="pushy-left pushy-open",pushyActiveClass="pushy-active",pushClass="push-push",menuBtn=$(".menu-btn, .pushy a"),closeBtn=$(".close-btn");pushy.width()+"px";if(Modernizr.csstransforms3d)menuBtn.click(function(){togglePushy()}),siteOverlay.click(function(){togglePushy()});else{container.css({"overflow-x":"hidden"});var state=!0;menuBtn.click(function(){state?(openPushyFallback(),state=!1):(closePushyFallback(),state=!0)}),siteOverlay.click(function(){state?(openPushyFallback(),state=!1):(closePushyFallback(),state=!0)}),closeBtn.click(function(){closePushyFallback(),state=!0})}$(".menu-btn, .close-btn").on("click",function(e){e.preventDefault()})});